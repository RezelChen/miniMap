/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./test.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/config.js":
/*!***********************!*\
  !*** ./src/config.js ***!
  \***********************/
/*! exports provided: GROUP_PADDING, BRANCH_PADDING, CONN_GAP */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GROUP_PADDING\", function() { return GROUP_PADDING; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BRANCH_PADDING\", function() { return BRANCH_PADDING; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CONN_GAP\", function() { return CONN_GAP; });\nconst GROUP_PADDING = 30;\nconst BRANCH_PADDING = 10;\nconst CONN_GAP = 10;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29uZmlnLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9jb25maWcuanM/YTdhMSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgR1JPVVBfUEFERElORyA9IDMwXG5leHBvcnQgY29uc3QgQlJBTkNIX1BBRERJTkcgPSAxMFxuZXhwb3J0IGNvbnN0IENPTk5fR0FQID0gMTAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/config.js\n");

/***/ }),

/***/ "./src/constant.js":
/*!*************************!*\
  !*** ./src/constant.js ***!
  \*************************/
/*! exports provided: UP, DOWN, RIGHT, LEFT, RIGHT_INTER, LEFT_INTER, DOWN_INTER, LEFT_UP, LEFT_DOWN, RIGHT_UP, RIGHT_DOWN, TOPIC, BRANCH, GROUP, CONN, MAP, ORG, ORG_UP, LOGIC_R, LOGIC_L, TREE_L, TREE_R, TIME_H, TIME_V, TIME_UP, TIME_DOWN, FISH_RIGHT_UP, FISH_RIGHT_DOWN, FISH_LEFT_UP, FISH_LEFT_DOWN */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UP\", function() { return UP; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DOWN\", function() { return DOWN; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RIGHT\", function() { return RIGHT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LEFT\", function() { return LEFT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RIGHT_INTER\", function() { return RIGHT_INTER; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LEFT_INTER\", function() { return LEFT_INTER; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DOWN_INTER\", function() { return DOWN_INTER; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LEFT_UP\", function() { return LEFT_UP; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LEFT_DOWN\", function() { return LEFT_DOWN; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RIGHT_UP\", function() { return RIGHT_UP; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RIGHT_DOWN\", function() { return RIGHT_DOWN; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TOPIC\", function() { return TOPIC; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BRANCH\", function() { return BRANCH; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GROUP\", function() { return GROUP; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CONN\", function() { return CONN; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MAP\", function() { return MAP; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ORG\", function() { return ORG; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ORG_UP\", function() { return ORG_UP; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LOGIC_R\", function() { return LOGIC_R; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LOGIC_L\", function() { return LOGIC_L; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TREE_L\", function() { return TREE_L; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TREE_R\", function() { return TREE_R; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TIME_H\", function() { return TIME_H; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TIME_V\", function() { return TIME_V; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TIME_UP\", function() { return TIME_UP; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TIME_DOWN\", function() { return TIME_DOWN; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FISH_RIGHT_UP\", function() { return FISH_RIGHT_UP; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FISH_RIGHT_DOWN\", function() { return FISH_RIGHT_DOWN; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FISH_LEFT_UP\", function() { return FISH_LEFT_UP; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FISH_LEFT_DOWN\", function() { return FISH_LEFT_DOWN; });\nconst UP = 'UP';\nconst DOWN = 'DOWN';\nconst RIGHT = 'RIGHT';\nconst LEFT = 'LEFT';\n\nconst RIGHT_INTER = 'RIGHT-INTER';\nconst LEFT_INTER = 'LEFT-INTER';\nconst DOWN_INTER = 'DOWN-INTER';\n\nconst LEFT_UP = 'LEFT_UP';\nconst LEFT_DOWN = 'LEFT_DOWN';\nconst RIGHT_UP = 'RIGHT_UP';\nconst RIGHT_DOWN = 'RIGHT_DOWN';\n\n// export const TOP = 'TOP'\n// export const BOTTOM = 'BOTTOM'\n\n\nconst TOPIC = 'TOPIC';\nconst BRANCH = 'BRANCH';\nconst GROUP = 'GROUP';\nconst CONN = 'CONN';\n\nconst MAP = 'MAP';\nconst ORG = 'ORG';\nconst ORG_UP = 'ORG_UP';\nconst LOGIC_R = 'LOGIC_R';\nconst LOGIC_L = 'LOGIC_L';\nconst TREE_L = 'TREE_L';\nconst TREE_R = 'TREE_R';\nconst TIME_H = 'TIME_H';\nconst TIME_V = 'TIME_V';\n\nconst TIME_UP = 'TIME_UP';\nconst TIME_DOWN = 'TIME_DOWN';\nconst FISH_RIGHT_UP = 'FISH_RIGHT_UP';\nconst FISH_RIGHT_DOWN = 'FISH_RIGHT_DOWN';\nconst FISH_LEFT_UP = 'FISH_LEFT_UP';\nconst FISH_LEFT_DOWN = 'FISH_LEFT_DOWN';//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29uc3RhbnQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2NvbnN0YW50LmpzP2U5NWMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IFVQID0gJ1VQJ1xuZXhwb3J0IGNvbnN0IERPV04gPSAnRE9XTidcbmV4cG9ydCBjb25zdCBSSUdIVCA9ICdSSUdIVCdcbmV4cG9ydCBjb25zdCBMRUZUID0gJ0xFRlQnXG5cbmV4cG9ydCBjb25zdCBSSUdIVF9JTlRFUiA9ICdSSUdIVC1JTlRFUidcbmV4cG9ydCBjb25zdCBMRUZUX0lOVEVSID0gJ0xFRlQtSU5URVInXG5leHBvcnQgY29uc3QgRE9XTl9JTlRFUiA9ICdET1dOLUlOVEVSJ1xuXG5leHBvcnQgY29uc3QgTEVGVF9VUCA9ICdMRUZUX1VQJ1xuZXhwb3J0IGNvbnN0IExFRlRfRE9XTiA9ICdMRUZUX0RPV04nXG5leHBvcnQgY29uc3QgUklHSFRfVVAgPSAnUklHSFRfVVAnXG5leHBvcnQgY29uc3QgUklHSFRfRE9XTiA9ICdSSUdIVF9ET1dOJ1xuXG4vLyBleHBvcnQgY29uc3QgVE9QID0gJ1RPUCdcbi8vIGV4cG9ydCBjb25zdCBCT1RUT00gPSAnQk9UVE9NJ1xuXG5cbmV4cG9ydCBjb25zdCBUT1BJQyA9ICdUT1BJQydcbmV4cG9ydCBjb25zdCBCUkFOQ0ggPSAnQlJBTkNIJ1xuZXhwb3J0IGNvbnN0IEdST1VQID0gJ0dST1VQJ1xuZXhwb3J0IGNvbnN0IENPTk4gPSAnQ09OTidcblxuZXhwb3J0IGNvbnN0IE1BUCA9ICdNQVAnXG5leHBvcnQgY29uc3QgT1JHID0gJ09SRydcbmV4cG9ydCBjb25zdCBPUkdfVVAgPSAnT1JHX1VQJ1xuZXhwb3J0IGNvbnN0IExPR0lDX1IgPSAnTE9HSUNfUidcbmV4cG9ydCBjb25zdCBMT0dJQ19MID0gJ0xPR0lDX0wnXG5leHBvcnQgY29uc3QgVFJFRV9MID0gJ1RSRUVfTCdcbmV4cG9ydCBjb25zdCBUUkVFX1IgPSAnVFJFRV9SJ1xuZXhwb3J0IGNvbnN0IFRJTUVfSCA9ICdUSU1FX0gnXG5leHBvcnQgY29uc3QgVElNRV9WID0gJ1RJTUVfVidcblxuZXhwb3J0IGNvbnN0IFRJTUVfVVAgPSAnVElNRV9VUCdcbmV4cG9ydCBjb25zdCBUSU1FX0RPV04gPSAnVElNRV9ET1dOJ1xuZXhwb3J0IGNvbnN0IEZJU0hfUklHSFRfVVAgPSAnRklTSF9SSUdIVF9VUCdcbmV4cG9ydCBjb25zdCBGSVNIX1JJR0hUX0RPV04gPSAnRklTSF9SSUdIVF9ET1dOJ1xuZXhwb3J0IGNvbnN0IEZJU0hfTEVGVF9VUCA9ICdGSVNIX0xFRlRfVVAnXG5leHBvcnQgY29uc3QgRklTSF9MRUZUX0RPV04gPSAnRklTSF9MRUZUX0RPV04nIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/constant.js\n");

/***/ }),

/***/ "./src/driver.js":
/*!***********************!*\
  !*** ./src/driver.js ***!
  \***********************/
/*! exports provided: driver */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"driver\", function() { return driver; });\n/* harmony import */ var _pass__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pass */ \"./src/pass.js\");\n/* harmony import */ var _struct__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./struct */ \"./src/struct.js\");\n\n\n\nconst run = (tok, passes) => {\n  return passes.reduce((t, pass) => pass(t), tok);\n};\n\nconst driver = tok => {\n  return run(tok, [_pass__WEBPACK_IMPORTED_MODULE_0__[\"imposeTok\"], _struct__WEBPACK_IMPORTED_MODULE_1__[\"transNode\"], _pass__WEBPACK_IMPORTED_MODULE_0__[\"calTok\"], _pass__WEBPACK_IMPORTED_MODULE_0__[\"imposeConnection\"], _pass__WEBPACK_IMPORTED_MODULE_0__[\"flattenBranch\"], _pass__WEBPACK_IMPORTED_MODULE_0__[\"exposeConn\"], _pass__WEBPACK_IMPORTED_MODULE_0__[\"render\"]]);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZHJpdmVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9kcml2ZXIuanM/ZGVjMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZW5kZXIsIGZsYXR0ZW5CcmFuY2gsIGltcG9zZVRvaywgZXhwb3NlQ29ubiwgaW1wb3NlQ29ubmVjdGlvbiwgY2FsVG9rIH0gZnJvbSAnLi9wYXNzJ1xuaW1wb3J0IHsgdHJhbnNOb2RlIH0gZnJvbSAnLi9zdHJ1Y3QnXG5cbmNvbnN0IHJ1biA9ICh0b2ssIHBhc3NlcykgPT4ge1xuICByZXR1cm4gcGFzc2VzLnJlZHVjZSgodCwgcGFzcykgPT4gcGFzcyh0KSwgdG9rKVxufVxuXG5leHBvcnQgY29uc3QgZHJpdmVyID0gKHRvaykgPT4ge1xuICByZXR1cm4gcnVuKHRvaywgW1xuICAgIGltcG9zZVRvayxcbiAgICB0cmFuc05vZGUsXG4gICAgY2FsVG9rLFxuICAgIGltcG9zZUNvbm5lY3Rpb24sXG4gICAgZmxhdHRlbkJyYW5jaCxcbiAgICBleHBvc2VDb25uLFxuICAgIHJlbmRlcixcbiAgXSlcbn0iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBU0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/driver.js\n");

/***/ }),

/***/ "./src/layoutUtil.js":
/*!***************************!*\
  !*** ./src/layoutUtil.js ***!
  \***************************/
/*! exports provided: getPadding, calGroup, calBranch, getBranchJoint, getGroupJoint, getTopicJoint, calMarginPoint, calTotalCornerPoint */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getPadding\", function() { return getPadding; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calGroup\", function() { return calGroup; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calBranch\", function() { return calBranch; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getBranchJoint\", function() { return getBranchJoint; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getGroupJoint\", function() { return getGroupJoint; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getTopicJoint\", function() { return getTopicJoint; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calMarginPoint\", function() { return calMarginPoint; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calTotalCornerPoint\", function() { return calTotalCornerPoint; });\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util */ \"./src/util.js\");\n/* harmony import */ var _constant__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constant */ \"./src/constant.js\");\n\n\n\n// TODO this is almost the same as getDatums, should be combined together.\nconst getPaddingV = (ratio, dy, cj) => {\n  const dir = ratio.y > 0 ? 1 : -1;\n  dy = dir * dy;\n  const dir0 = ratio.x < 0 ? 1 : -1;\n  const dx = dir0 * cj.x + dy / ratio.y * ratio.x;\n  return { x: dx, y: dy };\n};\n\nconst getPaddingH = (ratio, dx, cj) => {\n  const dir = ratio.x > 0 ? 1 : -1;\n  dx = dir * dx;\n  const dir0 = ratio.y < 0 ? 1 : -1;\n  const dy = dir0 * cj.y + dx / ratio.x * ratio.y;\n  return { x: dx, y: dy };\n};\n\nconst getPaddingFn = dir => {\n  switch (dir) {\n    case _constant__WEBPACK_IMPORTED_MODULE_1__[\"DOWN\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_1__[\"UP\"]:\n      return getPaddingV;\n    case _constant__WEBPACK_IMPORTED_MODULE_1__[\"RIGHT\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_1__[\"LEFT\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_1__[\"RIGHT_DOWN\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_1__[\"RIGHT_UP\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_1__[\"LEFT_UP\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_1__[\"LEFT_DOWN\"]:\n      return getPaddingH;\n  }\n};\n\nconst getPadding = (dir, delta, cj = { x: 0, y: 0 }) => {\n  const fn = getPaddingFn(dir);\n  const ratio = Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"getRatio\"])(dir);\n  return fn(ratio, delta, cj);\n};\n\nconst getDeltaV = (tok1, tok2, ratio) => {\n  const [tokUp, tokDown] = ratio.y > 0 ? [tok1, tok2] : [tok2, tok1];\n  const dir = ratio.y > 0 ? 1 : -1;\n\n  const margin = Math.max(tokUp.margin[2], tokDown.margin[0]);\n  const dy0 = tokUp.size.height - tokUp.getJoint().y;\n  const dy1 = tokDown.getJoint().y;\n  const dy = dir * (dy0 + margin + dy1);\n\n  const dx = dy / ratio.y * ratio.x;\n  return { x: dx, y: dy };\n};\n\nconst getDeltaV0 = (tok1, tok2, ratio) => {\n  const [tokUp, tokDown] = ratio.y > 0 ? [tok1, tok2] : [tok2, tok1];\n  const dir = ratio.y > 0 ? 1 : -1;\n\n  const margin = Math.max(tokUp.margin[2], tokDown.margin[0]);\n  const dy0 = tokUp.getTopic().size.height - tokUp.getJoint().y;\n  const dy1 = tokDown.getJoint().y;\n  const dy = dir * (dy0 + margin + dy1);\n\n  const dx = dy / ratio.y * ratio.x;\n  return { x: dx, y: dy };\n};\n\nconst getDeltaH = (tok1, tok2, ratio) => {\n  const [tokLeft, tokRight] = ratio.x > 0 ? [tok1, tok2] : [tok2, tok1];\n  const dir = ratio.x > 0 ? 1 : -1;\n\n  const margin = Math.max(tokLeft.margin[1], tokRight.margin[3]);\n  const dx0 = tokLeft.size.width - tokLeft.getJoint().x;\n  const dx1 = tokRight.getJoint().x;\n  const dx = dir * (dx0 + margin + dx1);\n\n  const dy = dx / ratio.x * ratio.y;\n  return { x: dx, y: dy };\n};\n\nconst getDeltaH0 = (tok1, tok2, ratio) => {\n  const [tokLeft, tokRight] = ratio.x > 0 ? [tok1, tok2] : [tok2, tok1];\n  const dir = ratio.x > 0 ? 1 : -1;\n\n  const margin = Math.max(tokLeft.margin[1], tokRight.margin[3]);\n  const dx0 = tokLeft.getTopic().size.width - tokLeft.getJoint().x;\n  const dx1 = tokRight.getJoint().x;\n  const dx = dir * (dx0 + margin + dx1);\n\n  const dy = dx / ratio.x * ratio.y;\n  return { x: dx, y: dy };\n};\n\nconst getDatumsCreator = getDelta => {\n  return (toks, ratio) => {\n    const datums = [{ x: 0, y: 0 }];\n    for (let i = 1; i < toks.length; i++) {\n      const dPos = getDelta(toks[i - 1], toks[i], ratio);\n      datums.push(Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"posAdd\"])(datums[i - 1], dPos));\n    }\n    return datums;\n  };\n};\n\nconst getDatumsInterCreator = (getDelta, getDelta0) => {\n  return (toks, ratio) => {\n    const d0 = { x: 0, y: 0 };\n    if (toks.length === 0) {\n      return [];\n    }\n    if (toks.length === 1) {\n      return [d0];\n    } else {\n      const d1 = Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"posAdd\"])(d0, getDelta0(toks[0], toks[1], ratio));\n      const datums = [d0, d1];\n      for (let i = 2; i < toks.length; i++) {\n        const t0 = toks[i - 2];\n        const t1 = toks[i - 1];\n        const t2 = toks[i];\n\n        const d0 = datums[i - 2];\n        const d1 = datums[i - 1];\n\n        const d2 = Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"getMaxPoint\"])(Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"posAdd\"])(d0, getDelta(t0, t2, ratio)), Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"posAdd\"])(d1, getDelta0(t1, t2, ratio)));\n        datums.push(d2);\n      }\n      return datums;\n    }\n  };\n};\n\nconst getDatumsHorizon = getDatumsCreator(getDeltaH);\nconst getDatumsVertical = getDatumsCreator(getDeltaV);\nconst getDatumsHorizonInter = getDatumsInterCreator(getDeltaH, getDeltaH0);\nconst getDatumsVerticalInter = getDatumsInterCreator(getDeltaV, getDeltaV0);\n\nconst getDatumsFn = (dir, isInter = false) => {\n  const [datumsVert, datumsHori] = isInter ? [getDatumsVerticalInter, getDatumsHorizonInter] : [getDatumsVertical, getDatumsHorizon];\n\n  switch (dir) {\n    case _constant__WEBPACK_IMPORTED_MODULE_1__[\"DOWN\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_1__[\"UP\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_1__[\"RIGHT_DOWN\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_1__[\"LEFT_DOWN\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_1__[\"LEFT_UP\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_1__[\"RIGHT_UP\"]:\n      return datumsVert;\n    case _constant__WEBPACK_IMPORTED_MODULE_1__[\"RIGHT\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_1__[\"LEFT\"]:\n      return datumsHori;\n  }\n};\n\nconst calGroup = tok => {\n\n  const [direction, inter] = tok.dir.split('-');\n  const ratio = Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"getRatio\"])(direction);\n  const fn = getDatumsFn(direction, Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"isDef\"])(inter));\n\n  const [size, margin] = calOblique(tok.elts, ratio, fn);\n  tok.size = size;\n  tok.margin = margin;\n  return tok;\n};\n\nconst calBranch = tok => {\n  const [topic, ...others] = tok.elts;\n\n  // outPoints 相对与 topic 位置\n  const outPoints = tok.getOutPoints();\n  const originPoint = { x: 0, y: 0 };\n  const datums = [originPoint, ...outPoints];\n\n  const otherJoints = others.map(t => t.getJoint());\n  const joints = [originPoint, ...otherJoints];\n\n  const [size, margin] = calToksPos(tok.elts, joints, datums);\n  tok.size = size;\n  tok.margin = margin;\n  return tok;\n};\n\nconst getRelPos = (tok, relTok) => {\n\n  const iter = (t, pos) => {\n    if (Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"isUndef\"])(t)) {\n      return Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"logErr\"])('Rel is not ancestor', getRelPos, relTok, tok);\n    }\n    if (t === relTok) {\n      return pos;\n    } else {\n      return iter(t.parent, Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"posAdd\"])(t.pos, pos));\n    }\n  };\n\n  return iter(tok, { x: 0, y: 0 });\n};\n\nconst getBranchJoint = (tok, dir, delta = 0) => {\n  const topic = tok.getTopic();\n  const pos = getRelPos(topic, tok);\n  const joint = topic.getJoint();\n  const { x, y } = Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"posAdd\"])(pos, joint);\n  const { width, height } = tok.size;\n\n  switch (dir) {\n    case _constant__WEBPACK_IMPORTED_MODULE_1__[\"UP\"]:\n      return { x, y: -delta };\n    case _constant__WEBPACK_IMPORTED_MODULE_1__[\"DOWN\"]:\n      return { x, y: height + delta };\n    case _constant__WEBPACK_IMPORTED_MODULE_1__[\"LEFT\"]:\n      return { x: -delta, y };\n    case _constant__WEBPACK_IMPORTED_MODULE_1__[\"RIGHT\"]:\n      return { x: width + delta, y };\n    default:\n      Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"logErr\"])('Unknown dir', getBranchJoint, dir);\n  }\n};\n\nconst getGroupJoint = (tok, dir, delta = { x: 0, y: 0 }) => {\n  const { width, height } = tok.size;\n  const dx = delta.x;\n  const dy = delta.y;\n  switch (dir) {\n    case _constant__WEBPACK_IMPORTED_MODULE_1__[\"LEFT_UP\"]:\n      return { x: dx, y: dy };\n    case _constant__WEBPACK_IMPORTED_MODULE_1__[\"LEFT_DOWN\"]:\n      return { x: dx, y: height + dy };\n    case _constant__WEBPACK_IMPORTED_MODULE_1__[\"RIGHT_UP\"]:\n      return { x: width + dx, y: dy };\n    case _constant__WEBPACK_IMPORTED_MODULE_1__[\"RIGHT_DOWN\"]:\n      return { x: width + dx, y: height + dy };\n  }\n\n  const fakeToks = tok.getTopics().map(topic => {\n    return {\n      pos: getRelPos(topic, tok),\n      size: topic.size\n    };\n  });\n\n  const cp = calTotalCornerPoint(fakeToks);\n  const tSize = getSize(cp);\n  const x = cp.x1 + tSize.width / 2;\n  const y = cp.y1 + tSize.height / 2;\n\n  switch (dir) {\n    case _constant__WEBPACK_IMPORTED_MODULE_1__[\"UP\"]:\n      return { x, y: dy };\n    case _constant__WEBPACK_IMPORTED_MODULE_1__[\"DOWN\"]:\n      return { x, y: height + dy };\n    case _constant__WEBPACK_IMPORTED_MODULE_1__[\"LEFT\"]:\n      return { x: dx, y };\n    case _constant__WEBPACK_IMPORTED_MODULE_1__[\"RIGHT\"]:\n      return { x: width + dx, y };\n\n    default:\n      Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"logErr\"])('Unknown dir', getGroupJoint, dir);\n  }\n};\n\nconst getTopicJoint = (tok, dir, delta = 0) => {\n  const { width, height } = tok.size;\n\n  switch (dir) {\n    case _constant__WEBPACK_IMPORTED_MODULE_1__[\"UP\"]:\n      return { x: width / 2, y: -delta };\n    case _constant__WEBPACK_IMPORTED_MODULE_1__[\"DOWN\"]:\n      return { x: width / 2, y: height + delta };\n    case _constant__WEBPACK_IMPORTED_MODULE_1__[\"LEFT\"]:\n      return { x: -delta, y: height / 2 };\n    case _constant__WEBPACK_IMPORTED_MODULE_1__[\"RIGHT\"]:\n      return { x: width + delta, y: height / 2 };\n\n    default:\n      Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"logErr\"])('Unknown dir', getTopicJoint, dir);\n  }\n};\n\nconst calMarginPoint = toks => {\n  const marginPoint = { x1: Infinity, x2: -Infinity, y1: Infinity, y2: -Infinity };\n\n  toks.forEach(tok => {\n    const { x1, x2, y1, y2 } = getCornerPoint(tok);\n    const [top, right, bottom, left] = tok.margin;\n\n    marginPoint.x1 = Math.min(marginPoint.x1, x1 - left);\n    marginPoint.y1 = Math.min(marginPoint.y1, y1 - top);\n    marginPoint.x2 = Math.max(marginPoint.x2, x2 + right);\n    marginPoint.y2 = Math.max(marginPoint.y2, y2 + bottom);\n  });\n\n  return marginPoint;\n};\n\nconst calTotalCornerPoint = toks => {\n  const cornerPoint = { x1: Infinity, x2: -Infinity, y1: Infinity, y2: -Infinity };\n\n  toks.forEach(tok => {\n    const { x1, x2, y1, y2 } = getCornerPoint(tok);\n    cornerPoint.x1 = Math.min(cornerPoint.x1, x1);\n    cornerPoint.y1 = Math.min(cornerPoint.y1, y1);\n    cornerPoint.x2 = Math.max(cornerPoint.x2, x2);\n    cornerPoint.y2 = Math.max(cornerPoint.y2, y2);\n  });\n\n  return cornerPoint;\n};\n\nconst getCornerPoint = tok => {\n  const x1 = tok.pos.x;\n  const y1 = tok.pos.y;\n  const x2 = x1 + tok.size.width;\n  const y2 = y1 + tok.size.height;\n  return { x1, x2, y1, y2 };\n};\n\nconst getSize = cp => {\n  return {\n    width: cp.x2 - cp.x1,\n    height: cp.y2 - cp.y1\n  };\n};\n\nconst getMargin = (cp, mp) => {\n  const left = -(mp.x1 - cp.x1);\n  const top = -(mp.y1 - cp.y1);\n  const right = mp.x2 - cp.x2;\n  const bottom = mp.y2 - cp.y2;\n  return [top, right, bottom, left];\n};\n\nconst calToksPos = (toks, joints, datums) => {\n\n  toks.forEach((tok, i) => {\n    tok.pos = Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"posSub\"])(datums[i], joints[i]);\n  });\n\n  // 通过计算 cornerPoint 计算 size\n  const cp = calTotalCornerPoint(toks);\n  const mp = calMarginPoint(toks);\n\n  // 重新计算 tok.pos\n  const oPos = { x: cp.x1, y: cp.y1 };\n  toks.forEach(tok => {\n    tok.pos = Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"posSub\"])(tok.pos, oPos);\n  });\n\n  const size = getSize(cp);\n  const margin = getMargin(cp, mp);\n\n  return [size, margin];\n};\n\nconst calOblique = (toks, ratio, getDatums) => {\n  const datums = getDatums(toks, ratio);\n  const joints = toks.map(t => t.getJoint());\n\n  return calToksPos(toks, joints, datums);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGF5b3V0VXRpbC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvbGF5b3V0VXRpbC5qcz8zOGUxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFxuICBwb3NTdWIsIHBvc0FkZCwgbG9nRXJyLCBpc1VuZGVmLCBpc0RlZiwgXG4gIGdldE1heFBvaW50LCBnZXRSYXRpbyxcbn0gZnJvbSAnLi91dGlsJ1xuaW1wb3J0IHtcbiAgVVAsIFJJR0hULCBET1dOLCBMRUZULFxuICBMRUZUX1VQLCBMRUZUX0RPV04sIFJJR0hUX0RPV04sIFJJR0hUX1VQLFxuICBHUk9VUCwgQlJBTkNILFxufSBmcm9tICcuL2NvbnN0YW50J1xuXG4vLyBUT0RPIHRoaXMgaXMgYWxtb3N0IHRoZSBzYW1lIGFzIGdldERhdHVtcywgc2hvdWxkIGJlIGNvbWJpbmVkIHRvZ2V0aGVyLlxuY29uc3QgZ2V0UGFkZGluZ1YgPSAocmF0aW8sIGR5LCBjaikgPT4ge1xuICBjb25zdCBkaXIgPSByYXRpby55ID4gMCA/IDEgOiAtMVxuICBkeSA9IGRpciAqIGR5XG4gIGNvbnN0IGRpcjAgPSByYXRpby54IDwgMCA/IDEgOiAtMVxuICBjb25zdCBkeCA9IGRpcjAgKiBjai54ICsgKGR5IC8gcmF0aW8ueSAqIHJhdGlvLngpXG4gIHJldHVybiB7IHg6IGR4LCB5OiBkeSB9XG59XG5cbmNvbnN0IGdldFBhZGRpbmdIID0gKHJhdGlvLCBkeCwgY2opID0+IHtcbiAgY29uc3QgZGlyID0gcmF0aW8ueCA+IDAgPyAxIDogLTFcbiAgZHggPSBkaXIgKiBkeFxuICBjb25zdCBkaXIwID0gcmF0aW8ueSA8IDAgPyAxIDogLTFcbiAgY29uc3QgZHkgPSBkaXIwICogY2oueSArIChkeCAvIHJhdGlvLnggKiByYXRpby55KVxuICByZXR1cm4geyB4OiBkeCwgeTogZHkgfVxufVxuXG5jb25zdCBnZXRQYWRkaW5nRm4gPSAoZGlyKSA9PiB7XG4gIHN3aXRjaCAoZGlyKSB7XG4gICAgY2FzZSBET1dOOlxuICAgIGNhc2UgVVA6XG4gICAgICByZXR1cm4gZ2V0UGFkZGluZ1ZcbiAgICBjYXNlIFJJR0hUOlxuICAgIGNhc2UgTEVGVDpcbiAgICBjYXNlIFJJR0hUX0RPV046XG4gICAgY2FzZSBSSUdIVF9VUDpcbiAgICBjYXNlIExFRlRfVVA6XG4gICAgY2FzZSBMRUZUX0RPV046XG4gICAgICByZXR1cm4gZ2V0UGFkZGluZ0hcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgZ2V0UGFkZGluZyA9IChkaXIsIGRlbHRhLCBjaiA9IHsgeDogMCwgeTogMCB9KSA9PiB7XG4gIGNvbnN0IGZuID0gZ2V0UGFkZGluZ0ZuKGRpcilcbiAgY29uc3QgcmF0aW8gPSBnZXRSYXRpbyhkaXIpXG4gIHJldHVybiBmbihyYXRpbywgZGVsdGEsIGNqKVxufVxuXG5jb25zdCBnZXREZWx0YVYgPSAodG9rMSwgdG9rMiwgcmF0aW8pID0+IHtcbiAgY29uc3QgW3Rva1VwLCB0b2tEb3duXSA9IHJhdGlvLnkgPiAwID8gW3RvazEsIHRvazJdIDogW3RvazIsIHRvazFdXG4gIGNvbnN0IGRpciA9IHJhdGlvLnkgPiAwID8gMSA6IC0xXG5cbiAgY29uc3QgbWFyZ2luID0gTWF0aC5tYXgodG9rVXAubWFyZ2luWzJdLCB0b2tEb3duLm1hcmdpblswXSlcbiAgY29uc3QgZHkwID0gdG9rVXAuc2l6ZS5oZWlnaHQgLSB0b2tVcC5nZXRKb2ludCgpLnlcbiAgY29uc3QgZHkxID0gdG9rRG93bi5nZXRKb2ludCgpLnlcbiAgY29uc3QgZHkgPSBkaXIgKiAoZHkwICsgbWFyZ2luICsgZHkxKVxuXG4gIGNvbnN0IGR4ID0gZHkgLyByYXRpby55ICogcmF0aW8ueFxuICByZXR1cm4geyB4OiBkeCwgeTogZHkgfVxufVxuXG5jb25zdCBnZXREZWx0YVYwID0gKHRvazEsIHRvazIsIHJhdGlvKSA9PiB7XG4gIGNvbnN0IFt0b2tVcCwgdG9rRG93bl0gPSByYXRpby55ID4gMCA/IFt0b2sxLCB0b2syXSA6IFt0b2syLCB0b2sxXVxuICBjb25zdCBkaXIgPSByYXRpby55ID4gMCA/IDEgOiAtMVxuXG4gIGNvbnN0IG1hcmdpbiA9IE1hdGgubWF4KHRva1VwLm1hcmdpblsyXSwgdG9rRG93bi5tYXJnaW5bMF0pXG4gIGNvbnN0IGR5MCA9IHRva1VwLmdldFRvcGljKCkuc2l6ZS5oZWlnaHQgLSB0b2tVcC5nZXRKb2ludCgpLnlcbiAgY29uc3QgZHkxID0gdG9rRG93bi5nZXRKb2ludCgpLnlcbiAgY29uc3QgZHkgPSBkaXIgKiAoZHkwICsgbWFyZ2luICsgZHkxKVxuXG4gIGNvbnN0IGR4ID0gZHkgLyByYXRpby55ICogcmF0aW8ueFxuICByZXR1cm4geyB4OiBkeCwgeTogZHkgfVxufVxuXG5jb25zdCBnZXREZWx0YUggPSAodG9rMSwgdG9rMiwgcmF0aW8pID0+IHtcbiAgY29uc3QgW3Rva0xlZnQsIHRva1JpZ2h0XSA9IHJhdGlvLnggPiAwID8gW3RvazEsIHRvazJdIDogW3RvazIsIHRvazFdXG4gIGNvbnN0IGRpciA9IHJhdGlvLnggPiAwID8gMSA6IC0xXG5cbiAgY29uc3QgbWFyZ2luID0gTWF0aC5tYXgodG9rTGVmdC5tYXJnaW5bMV0sIHRva1JpZ2h0Lm1hcmdpblszXSlcbiAgY29uc3QgZHgwID0gdG9rTGVmdC5zaXplLndpZHRoIC0gdG9rTGVmdC5nZXRKb2ludCgpLnhcbiAgY29uc3QgZHgxID0gdG9rUmlnaHQuZ2V0Sm9pbnQoKS54XG4gIGNvbnN0IGR4ID0gZGlyICogKGR4MCArIG1hcmdpbiArIGR4MSlcblxuICBjb25zdCBkeSA9IGR4IC8gcmF0aW8ueCAqIHJhdGlvLnlcbiAgcmV0dXJuIHsgeDogZHgsIHk6IGR5IH1cbn1cblxuXG5jb25zdCBnZXREZWx0YUgwID0gKHRvazEsIHRvazIsIHJhdGlvKSA9PiB7XG4gIGNvbnN0IFt0b2tMZWZ0LCB0b2tSaWdodF0gPSByYXRpby54ID4gMCA/IFt0b2sxLCB0b2syXSA6IFt0b2syLCB0b2sxXVxuICBjb25zdCBkaXIgPSByYXRpby54ID4gMCA/IDEgOiAtMVxuXG4gIGNvbnN0IG1hcmdpbiA9IE1hdGgubWF4KHRva0xlZnQubWFyZ2luWzFdLCB0b2tSaWdodC5tYXJnaW5bM10pXG4gIGNvbnN0IGR4MCA9IHRva0xlZnQuZ2V0VG9waWMoKS5zaXplLndpZHRoIC0gdG9rTGVmdC5nZXRKb2ludCgpLnhcbiAgY29uc3QgZHgxID0gdG9rUmlnaHQuZ2V0Sm9pbnQoKS54XG4gIGNvbnN0IGR4ID0gZGlyICogKGR4MCArIG1hcmdpbiArIGR4MSlcblxuICBjb25zdCBkeSA9IGR4IC8gcmF0aW8ueCAqIHJhdGlvLnlcbiAgcmV0dXJuIHsgeDogZHgsIHk6IGR5IH1cbn1cblxuY29uc3QgZ2V0RGF0dW1zQ3JlYXRvciA9IChnZXREZWx0YSkgPT4ge1xuICByZXR1cm4gKHRva3MsIHJhdGlvKSA9PiB7XG4gICAgY29uc3QgZGF0dW1zID0gW3sgeDogMCwgeTogMCB9XVxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdG9rcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZFBvcyA9IGdldERlbHRhKHRva3NbaSAtIDFdLCB0b2tzW2ldLCByYXRpbylcbiAgICAgIGRhdHVtcy5wdXNoKHBvc0FkZChkYXR1bXNbaSAtIDFdLCBkUG9zKSlcbiAgICB9XG4gICAgcmV0dXJuIGRhdHVtc1xuICB9XG59XG5cbmNvbnN0IGdldERhdHVtc0ludGVyQ3JlYXRvciA9IChnZXREZWx0YSwgZ2V0RGVsdGEwKSA9PiB7XG4gIHJldHVybiAodG9rcywgcmF0aW8pID0+IHtcbiAgICBjb25zdCBkMCA9IHsgeDogMCwgeTogMCB9XG4gICAgaWYgKHRva3MubGVuZ3RoID09PSAwKSB7IHJldHVybiBbXSB9XG4gICAgaWYgKHRva3MubGVuZ3RoID09PSAxKSB7IHJldHVybiBbZDBdIH1cbiAgICBlbHNlIHtcbiAgICAgIGNvbnN0IGQxID0gcG9zQWRkKGQwLCBnZXREZWx0YTAodG9rc1swXSwgdG9rc1sxXSwgcmF0aW8pKVxuICAgICAgY29uc3QgZGF0dW1zID0gW2QwLCBkMV1cbiAgICAgIGZvciAobGV0IGkgPSAyOyBpIDwgdG9rcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCB0MCA9IHRva3NbaSAtIDJdXG4gICAgICAgIGNvbnN0IHQxID0gdG9rc1tpIC0gMV1cbiAgICAgICAgY29uc3QgdDIgPSB0b2tzW2ldXG5cbiAgICAgICAgY29uc3QgZDAgPSBkYXR1bXNbaSAtIDJdXG4gICAgICAgIGNvbnN0IGQxID0gZGF0dW1zW2kgLSAxXVxuXG4gICAgICAgIGNvbnN0IGQyID0gZ2V0TWF4UG9pbnQoXG4gICAgICAgICAgcG9zQWRkKGQwLCBnZXREZWx0YSh0MCwgdDIsIHJhdGlvKSksXG4gICAgICAgICAgcG9zQWRkKGQxLCBnZXREZWx0YTAodDEsIHQyLCByYXRpbykpLFxuICAgICAgICApXG4gICAgICAgIGRhdHVtcy5wdXNoKGQyKVxuICAgICAgfVxuICAgICAgcmV0dXJuIGRhdHVtc1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCBnZXREYXR1bXNIb3Jpem9uID0gZ2V0RGF0dW1zQ3JlYXRvcihnZXREZWx0YUgpXG5jb25zdCBnZXREYXR1bXNWZXJ0aWNhbCA9IGdldERhdHVtc0NyZWF0b3IoZ2V0RGVsdGFWKVxuY29uc3QgZ2V0RGF0dW1zSG9yaXpvbkludGVyID0gZ2V0RGF0dW1zSW50ZXJDcmVhdG9yKGdldERlbHRhSCwgZ2V0RGVsdGFIMClcbmNvbnN0IGdldERhdHVtc1ZlcnRpY2FsSW50ZXIgPSBnZXREYXR1bXNJbnRlckNyZWF0b3IoZ2V0RGVsdGFWLCBnZXREZWx0YVYwKVxuXG5jb25zdCBnZXREYXR1bXNGbiA9IChkaXIsIGlzSW50ZXIgPSBmYWxzZSkgPT4ge1xuICBjb25zdCBbZGF0dW1zVmVydCwgZGF0dW1zSG9yaV0gPSBpc0ludGVyID8gXG4gICAgW2dldERhdHVtc1ZlcnRpY2FsSW50ZXIsIGdldERhdHVtc0hvcml6b25JbnRlcl0gOlxuICAgIFtnZXREYXR1bXNWZXJ0aWNhbCwgZ2V0RGF0dW1zSG9yaXpvbl1cbiAgXG4gIHN3aXRjaCAoZGlyKSB7XG4gICAgY2FzZSBET1dOOlxuICAgIGNhc2UgVVA6XG4gICAgY2FzZSBSSUdIVF9ET1dOOlxuICAgIGNhc2UgTEVGVF9ET1dOOlxuICAgIGNhc2UgTEVGVF9VUDpcbiAgICBjYXNlIFJJR0hUX1VQOlxuICAgICAgcmV0dXJuIGRhdHVtc1ZlcnRcbiAgICBjYXNlIFJJR0hUOlxuICAgIGNhc2UgTEVGVDpcbiAgICAgIHJldHVybiBkYXR1bXNIb3JpXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGNhbEdyb3VwID0gKHRvaykgPT4ge1xuXG4gIGNvbnN0IFtkaXJlY3Rpb24sIGludGVyXSA9IHRvay5kaXIuc3BsaXQoJy0nKVxuICBjb25zdCByYXRpbyA9IGdldFJhdGlvKGRpcmVjdGlvbilcbiAgY29uc3QgZm4gPSBnZXREYXR1bXNGbihkaXJlY3Rpb24sIGlzRGVmKGludGVyKSlcblxuICBjb25zdCBbc2l6ZSwgbWFyZ2luXSA9IGNhbE9ibGlxdWUodG9rLmVsdHMsIHJhdGlvLCBmbilcbiAgdG9rLnNpemUgPSBzaXplXG4gIHRvay5tYXJnaW4gPSBtYXJnaW5cbiAgcmV0dXJuIHRva1xufVxuXG5leHBvcnQgY29uc3QgY2FsQnJhbmNoID0gKHRvaykgPT4ge1xuICBjb25zdCBbdG9waWMsIC4uLm90aGVyc10gPSB0b2suZWx0c1xuXG4gIC8vIG91dFBvaW50cyDnm7jlr7nkuI4gdG9waWMg5L2N572uXG4gIGNvbnN0IG91dFBvaW50cyA9IHRvay5nZXRPdXRQb2ludHMoKVxuICBjb25zdCBvcmlnaW5Qb2ludCA9IHsgeDogMCwgeTogMCB9XG4gIGNvbnN0IGRhdHVtcyA9IFtvcmlnaW5Qb2ludCwgLi4ub3V0UG9pbnRzXVxuXG4gIGNvbnN0IG90aGVySm9pbnRzID0gb3RoZXJzLm1hcCgodCkgPT4gdC5nZXRKb2ludCgpKVxuICBjb25zdCBqb2ludHMgPSBbb3JpZ2luUG9pbnQsIC4uLm90aGVySm9pbnRzXVxuXG4gIGNvbnN0IFtzaXplLCBtYXJnaW5dID0gY2FsVG9rc1Bvcyh0b2suZWx0cywgam9pbnRzLCBkYXR1bXMpXG4gIHRvay5zaXplID0gc2l6ZVxuICB0b2subWFyZ2luID0gbWFyZ2luXG4gIHJldHVybiB0b2tcbn1cblxuY29uc3QgZ2V0UmVsUG9zID0gKHRvaywgcmVsVG9rKSA9PiB7XG5cbiAgY29uc3QgaXRlciA9ICh0LCBwb3MpID0+IHtcbiAgICBpZiAoaXNVbmRlZih0KSkgeyByZXR1cm4gbG9nRXJyKCdSZWwgaXMgbm90IGFuY2VzdG9yJywgZ2V0UmVsUG9zLCByZWxUb2ssIHRvaykgfVxuICAgIGlmICh0ID09PSByZWxUb2spIHsgcmV0dXJuIHBvcyB9XG4gICAgZWxzZSB7IHJldHVybiBpdGVyKHQucGFyZW50LCBwb3NBZGQodC5wb3MsIHBvcykpIH1cbiAgfVxuXG4gIHJldHVybiBpdGVyKHRvaywgeyB4OiAwLCB5OiAwIH0pXG59XG5cbmV4cG9ydCBjb25zdCBnZXRCcmFuY2hKb2ludCA9ICh0b2ssIGRpciwgZGVsdGEgPSAwKSA9PiB7XG4gIGNvbnN0IHRvcGljID0gdG9rLmdldFRvcGljKClcbiAgY29uc3QgcG9zID0gZ2V0UmVsUG9zKHRvcGljLCB0b2spXG4gIGNvbnN0IGpvaW50ID0gdG9waWMuZ2V0Sm9pbnQoKVxuICBjb25zdCB7IHgsIHkgfSA9IHBvc0FkZChwb3MsIGpvaW50KVxuICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRvay5zaXplXG5cbiAgc3dpdGNoIChkaXIpIHtcbiAgICBjYXNlIFVQOlxuICAgICAgcmV0dXJuIHsgeCwgeTogLWRlbHRhIH1cbiAgICBjYXNlIERPV046XG4gICAgICByZXR1cm4geyB4LCB5OiBoZWlnaHQgKyBkZWx0YSB9XG4gICAgY2FzZSBMRUZUOlxuICAgICAgcmV0dXJuIHsgeDogLWRlbHRhLCB5IH1cbiAgICBjYXNlIFJJR0hUOlxuICAgICAgcmV0dXJuIHsgeDogd2lkdGggKyBkZWx0YSwgeSB9XG4gICAgZGVmYXVsdDpcbiAgICAgIGxvZ0VycignVW5rbm93biBkaXInLCBnZXRCcmFuY2hKb2ludCwgZGlyKVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBnZXRHcm91cEpvaW50ID0gKHRvaywgZGlyLCBkZWx0YSA9IHsgeDogMCwgeTogMCB9KSA9PiB7XG4gIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdG9rLnNpemVcbiAgY29uc3QgZHggPSBkZWx0YS54XG4gIGNvbnN0IGR5ID0gZGVsdGEueVxuICBzd2l0Y2ggKGRpcikge1xuICAgIGNhc2UgTEVGVF9VUDpcbiAgICAgIHJldHVybiB7IHg6IGR4LCB5OiBkeSB9XG4gICAgY2FzZSBMRUZUX0RPV046XG4gICAgICByZXR1cm4geyB4OiBkeCwgeTogaGVpZ2h0ICsgZHkgfVxuICAgIGNhc2UgUklHSFRfVVA6XG4gICAgICByZXR1cm4geyB4OiB3aWR0aCArIGR4LCB5OiBkeSB9XG4gICAgY2FzZSBSSUdIVF9ET1dOOlxuICAgICAgcmV0dXJuIHsgeDogd2lkdGggKyBkeCwgeTogaGVpZ2h0ICsgZHkgfVxuICB9XG5cbiAgY29uc3QgZmFrZVRva3MgPSB0b2suZ2V0VG9waWNzKCkubWFwKCh0b3BpYykgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBwb3M6IGdldFJlbFBvcyh0b3BpYywgdG9rKSxcbiAgICAgIHNpemU6IHRvcGljLnNpemUsXG4gICAgfVxuICB9KVxuXG4gIGNvbnN0IGNwID0gY2FsVG90YWxDb3JuZXJQb2ludChmYWtlVG9rcylcbiAgY29uc3QgdFNpemUgPSBnZXRTaXplKGNwKVxuICBjb25zdCB4ID0gY3AueDEgKyB0U2l6ZS53aWR0aCAvIDJcbiAgY29uc3QgeSA9IGNwLnkxICsgdFNpemUuaGVpZ2h0IC8gMlxuXG5cbiAgc3dpdGNoIChkaXIpIHtcbiAgICBjYXNlIFVQOlxuICAgICAgcmV0dXJuIHsgeCwgeTogZHkgfVxuICAgIGNhc2UgRE9XTjpcbiAgICAgIHJldHVybiB7IHgsIHk6IGhlaWdodCArIGR5IH1cbiAgICBjYXNlIExFRlQ6XG4gICAgICByZXR1cm4geyB4OiBkeCwgeSB9XG4gICAgY2FzZSBSSUdIVDpcbiAgICAgIHJldHVybiB7IHg6IHdpZHRoICsgZHgsIHkgfVxuXG4gICAgZGVmYXVsdDpcbiAgICAgIGxvZ0VycignVW5rbm93biBkaXInLCBnZXRHcm91cEpvaW50LCBkaXIpXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGdldFRvcGljSm9pbnQgPSAodG9rLCBkaXIsIGRlbHRhID0gMCkgPT4ge1xuICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRvay5zaXplXG5cbiAgc3dpdGNoIChkaXIpIHtcbiAgICBjYXNlIFVQOlxuICAgICAgcmV0dXJuIHsgeDogd2lkdGggLyAyLCB5OiAtZGVsdGEgfVxuICAgIGNhc2UgRE9XTjpcbiAgICAgIHJldHVybiB7IHg6IHdpZHRoIC8gMiwgeTogaGVpZ2h0ICsgZGVsdGEgfVxuICAgIGNhc2UgTEVGVDpcbiAgICAgIHJldHVybiB7IHg6IC1kZWx0YSwgeTogaGVpZ2h0IC8gMiB9XG4gICAgY2FzZSBSSUdIVDpcbiAgICAgIHJldHVybiB7IHg6IHdpZHRoICsgZGVsdGEsIHk6IGhlaWdodCAvIDIgfVxuXG4gICAgZGVmYXVsdDpcbiAgICAgIGxvZ0VycignVW5rbm93biBkaXInLCBnZXRUb3BpY0pvaW50LCBkaXIpXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGNhbE1hcmdpblBvaW50ID0gKHRva3MpID0+IHtcbiAgY29uc3QgbWFyZ2luUG9pbnQgPSB7IHgxOiBJbmZpbml0eSwgeDI6IC1JbmZpbml0eSwgeTE6IEluZmluaXR5LCB5MjogLUluZmluaXR5IH1cblxuICB0b2tzLmZvckVhY2goKHRvaykgPT4ge1xuICAgIGNvbnN0IHsgeDEsIHgyLCB5MSwgeTIgfSA9IGdldENvcm5lclBvaW50KHRvaylcbiAgICBjb25zdCBbdG9wLCByaWdodCwgYm90dG9tLCBsZWZ0XSA9IHRvay5tYXJnaW5cblxuICAgIG1hcmdpblBvaW50LngxID0gTWF0aC5taW4obWFyZ2luUG9pbnQueDEsIHgxIC0gbGVmdClcbiAgICBtYXJnaW5Qb2ludC55MSA9IE1hdGgubWluKG1hcmdpblBvaW50LnkxLCB5MSAtIHRvcClcbiAgICBtYXJnaW5Qb2ludC54MiA9IE1hdGgubWF4KG1hcmdpblBvaW50LngyLCB4MiArIHJpZ2h0KVxuICAgIG1hcmdpblBvaW50LnkyID0gTWF0aC5tYXgobWFyZ2luUG9pbnQueTIsIHkyICsgYm90dG9tKVxuICB9KVxuXG4gIHJldHVybiBtYXJnaW5Qb2ludFxufVxuXG5cbmV4cG9ydCBjb25zdCBjYWxUb3RhbENvcm5lclBvaW50ID0gKHRva3MpID0+IHtcbiAgY29uc3QgY29ybmVyUG9pbnQgPSB7IHgxOiBJbmZpbml0eSwgeDI6IC1JbmZpbml0eSwgeTE6IEluZmluaXR5LCB5MjogLUluZmluaXR5IH1cblxuICB0b2tzLmZvckVhY2goKHRvaykgPT4ge1xuICAgIGNvbnN0IHsgeDEsIHgyLCB5MSwgeTIgfSA9IGdldENvcm5lclBvaW50KHRvaylcbiAgICBjb3JuZXJQb2ludC54MSA9IE1hdGgubWluKGNvcm5lclBvaW50LngxLCB4MSlcbiAgICBjb3JuZXJQb2ludC55MSA9IE1hdGgubWluKGNvcm5lclBvaW50LnkxLCB5MSlcbiAgICBjb3JuZXJQb2ludC54MiA9IE1hdGgubWF4KGNvcm5lclBvaW50LngyLCB4MilcbiAgICBjb3JuZXJQb2ludC55MiA9IE1hdGgubWF4KGNvcm5lclBvaW50LnkyLCB5MilcbiAgfSlcblxuICByZXR1cm4gY29ybmVyUG9pbnRcbn1cblxuXG5jb25zdCBnZXRDb3JuZXJQb2ludCA9ICh0b2spID0+IHtcbiAgY29uc3QgeDEgPSB0b2sucG9zLnhcbiAgY29uc3QgeTEgPSB0b2sucG9zLnlcbiAgY29uc3QgeDIgPSB4MSArIHRvay5zaXplLndpZHRoXG4gIGNvbnN0IHkyID0geTEgKyB0b2suc2l6ZS5oZWlnaHRcbiAgcmV0dXJuIHsgeDEsIHgyLCB5MSwgeTIgfVxufVxuXG5cbmNvbnN0IGdldFNpemUgPSAoY3ApID0+IHtcbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogY3AueDIgLSBjcC54MSxcbiAgICBoZWlnaHQ6IGNwLnkyIC0gY3AueTEsXG4gIH1cbn1cblxuY29uc3QgZ2V0TWFyZ2luID0gKGNwLCBtcCkgPT4ge1xuICBjb25zdCBsZWZ0ID0gLShtcC54MSAtIGNwLngxKVxuICBjb25zdCB0b3AgPSAtKG1wLnkxIC0gY3AueTEpXG4gIGNvbnN0IHJpZ2h0ID0gbXAueDIgLSBjcC54MlxuICBjb25zdCBib3R0b20gPSBtcC55MiAtIGNwLnkyXG4gIHJldHVybiBbdG9wLCByaWdodCwgYm90dG9tLCBsZWZ0XVxufVxuXG5cbmNvbnN0IGNhbFRva3NQb3MgPSAodG9rcywgam9pbnRzLCBkYXR1bXMpID0+IHtcblxuICB0b2tzLmZvckVhY2goKHRvaywgaSkgPT4ge1xuICAgIHRvay5wb3MgPSBwb3NTdWIoZGF0dW1zW2ldLCBqb2ludHNbaV0pXG4gIH0pXG5cbiAgLy8g6YCa6L+H6K6h566XIGNvcm5lclBvaW50IOiuoeeulyBzaXplXG4gIGNvbnN0IGNwID0gY2FsVG90YWxDb3JuZXJQb2ludCh0b2tzKVxuICBjb25zdCBtcCA9IGNhbE1hcmdpblBvaW50KHRva3MpXG5cbiAgLy8g6YeN5paw6K6h566XIHRvay5wb3NcbiAgY29uc3Qgb1BvcyA9IHsgeDogY3AueDEsIHk6IGNwLnkxIH1cbiAgdG9rcy5mb3JFYWNoKCh0b2spID0+IHsgdG9rLnBvcyA9IHBvc1N1Yih0b2sucG9zLCBvUG9zKSB9KVxuXG4gIGNvbnN0IHNpemUgPSBnZXRTaXplKGNwKVxuICBjb25zdCBtYXJnaW4gPSBnZXRNYXJnaW4oY3AsIG1wKVxuXG4gIHJldHVybiBbc2l6ZSwgbWFyZ2luXVxufVxuXG5cbmNvbnN0IGNhbE9ibGlxdWUgPSAodG9rcywgcmF0aW8sIGdldERhdHVtcykgPT4ge1xuICBjb25zdCBkYXR1bXMgPSBnZXREYXR1bXModG9rcywgcmF0aW8pXG4gIGNvbnN0IGpvaW50cyA9IHRva3MubWFwKCh0KSA9PiB0LmdldEpvaW50KCkpXG5cbiAgcmV0dXJuIGNhbFRva3NQb3ModG9rcywgam9pbnRzLCBkYXR1bXMpXG5cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFWQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVZBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVZBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVhBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVhBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/layoutUtil.js\n");

/***/ }),

/***/ "./src/pass.js":
/*!*********************!*\
  !*** ./src/pass.js ***!
  \*********************/
/*! exports provided: calTok, imposeConnection, imposeTok, flattenBranch, exposeConn, render */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calTok\", function() { return calTok; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"imposeConnection\", function() { return imposeConnection; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"imposeTok\", function() { return imposeTok; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"flattenBranch\", function() { return flattenBranch; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"exposeConn\", function() { return exposeConn; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"render\", function() { return render; });\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util */ \"./src/util.js\");\n/* harmony import */ var _tok__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./tok */ \"./src/tok.js\");\n/* harmony import */ var _constant__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./constant */ \"./src/constant.js\");\n/* harmony import */ var _layoutUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./layoutUtil */ \"./src/layoutUtil.js\");\n\n\n\n\n\n//  =========== calTok ===========\n\nconst calTok = tok => {\n  switch (tok.type) {\n    case _constant__WEBPACK_IMPORTED_MODULE_2__[\"TOPIC\"]:\n      return tok;\n    case _constant__WEBPACK_IMPORTED_MODULE_2__[\"GROUP\"]:\n      tok.elts.forEach(calTok);\n      Object(_layoutUtil__WEBPACK_IMPORTED_MODULE_3__[\"calGroup\"])(tok);\n      return tok;\n    case _constant__WEBPACK_IMPORTED_MODULE_2__[\"BRANCH\"]:\n      tok.elts.forEach(calTok);\n      Object(_layoutUtil__WEBPACK_IMPORTED_MODULE_3__[\"calBranch\"])(tok);\n      return tok;\n    default:\n      logErr('Unexpect tok.type', calTok, tok);\n  }\n};\n\n//  =========== imposeConnection ===========\n\nconst imposeConnection = tok => {\n  switch (tok.type) {\n    case _constant__WEBPACK_IMPORTED_MODULE_2__[\"TOPIC\"]:\n      break;\n    case _constant__WEBPACK_IMPORTED_MODULE_2__[\"GROUP\"]:\n      tok.elts.forEach(imposeConnection);\n      break;\n    case _constant__WEBPACK_IMPORTED_MODULE_2__[\"BRANCH\"]:\n      const [topic, ...others] = tok.elts;\n      const outPosArr = tok.getOutPoints().map(point => {\n        return { tok: topic, pos: point };\n      });\n      others.forEach(imposeConnection);\n      others.forEach((t, i) => imposeInPos(t, outPosArr[i]));\n      topic.connOUTS = tok.createOutConns();\n      break;\n  }\n\n  return tok;\n};\n\nconst imposeInPos = (tok, outPos) => {\n  switch (tok.type) {\n    case _constant__WEBPACK_IMPORTED_MODULE_2__[\"TOPIC\"]:\n      const inPos = { tok, pos: tok.getJoint() };\n      tok.conn = new _tok__WEBPACK_IMPORTED_MODULE_1__[\"Conn\"](outPos, inPos);\n      break;\n    case _constant__WEBPACK_IMPORTED_MODULE_2__[\"GROUP\"]:\n      tok.elts.forEach(t => imposeInPos(t, outPos));\n      break;\n    case _constant__WEBPACK_IMPORTED_MODULE_2__[\"BRANCH\"]:\n      const [topic, ...others] = tok.elts;\n      imposeInPos(topic, outPos);\n  }\n};\n\n//  =========== imposeTok ===========\n\nconst imposeTok = (node, i = 0) => {\n  const tok = Object(_tok__WEBPACK_IMPORTED_MODULE_1__[\"createTokByLayer\"])(node, i);\n  node.tok = tok;\n  node.children.forEach(child => imposeTok(child, i + 1));\n  return node;\n};\n\n// =========== flattenBranch ===========\n\nconst flattenBranch = tok => {\n\n  const iter = (tok, pos) => {\n    tok.pos = Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"posAdd\"])(tok.pos, pos);\n    tok.parent = null;\n    if (Object(_tok__WEBPACK_IMPORTED_MODULE_1__[\"isTopic\"])(tok)) {\n      return [tok];\n    } else {\n      return Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"mapFlat\"])(tok.elts, t => iter(t, tok.pos));\n    }\n  };\n\n  const originPos = { x: 0, y: 0 };\n  return iter(tok, originPos);\n};\n\n// =========== exposeConn ===========\nconst exposeConn = toks => {\n  const conns = toks.filter(tok => Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"isDef\"])(tok.conn)).map(t => t.conn.generate());\n  const filterTok = toks.filter(tok => Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"isDef\"])(tok.connOUTS));\n  const Oconns = Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"mapFlat\"])(filterTok, t => t.connOUTS.map(c => c.generate()));\n\n  return [...conns, ...Oconns, ...toks];\n};\n\n// =========== render ===========\n\nconst createRect = tok => {\n  const { x, y } = tok.pos;\n  const { width, height } = tok.size;\n  const fill = tok.color;\n\n  const rect = new SVG.Rect().attr({ width, height, fill });\n  rect.translate(x, y).radius(3);\n  return rect;\n};\n\nconst createPath = tok => {\n  const { p1, p2 } = tok;\n  const d = `M ${p1.x} ${p1.y} L ${p2.x} ${p2.y} Z`;\n\n  const path = new SVG.Path();\n  path.attr({ d, stroke: 'black' });\n  return path;\n};\n\nconst render = toks => {\n\n  const Snodes = toks.map(tok => {\n    switch (tok.type) {\n      case _constant__WEBPACK_IMPORTED_MODULE_2__[\"TOPIC\"]:\n        return createRect(tok);\n      case _constant__WEBPACK_IMPORTED_MODULE_2__[\"CONN\"]:\n        return createPath(tok);\n      default:\n        return;\n    }\n  }).filter(_util__WEBPACK_IMPORTED_MODULE_0__[\"isDef\"]);\n\n  const g = new SVG.G().data('name', \"container\");\n  Snodes.forEach(node => g.add(node));\n  return g;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFzcy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvcGFzcy5qcz9jZTJmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBvc0FkZCwgbWFwRmxhdCwgaXNEZWYsIHJhbmQgfSBmcm9tICcuL3V0aWwnXG5pbXBvcnQgeyBpc1RvcGljLCBDb25uLCBjcmVhdGVUb2tCeUxheWVyIH0gZnJvbSAnLi90b2snXG5pbXBvcnQgeyBUT1BJQywgR1JPVVAsIEJSQU5DSCwgQ09OTiB9IGZyb20gJy4vY29uc3RhbnQnXG5pbXBvcnQgeyBjYWxHcm91cCwgY2FsQnJhbmNoIH0gZnJvbSAnLi9sYXlvdXRVdGlsJ1xuXG5cbi8vICA9PT09PT09PT09PSBjYWxUb2sgPT09PT09PT09PT1cblxuZXhwb3J0IGNvbnN0IGNhbFRvayA9ICh0b2spID0+IHtcbiAgc3dpdGNoICh0b2sudHlwZSkge1xuICAgIGNhc2UgVE9QSUM6XG4gICAgICByZXR1cm4gdG9rXG4gICAgY2FzZSBHUk9VUDpcbiAgICAgIHRvay5lbHRzLmZvckVhY2goY2FsVG9rKVxuICAgICAgY2FsR3JvdXAodG9rKVxuICAgICAgcmV0dXJuIHRva1xuICAgIGNhc2UgQlJBTkNIOlxuICAgICAgdG9rLmVsdHMuZm9yRWFjaChjYWxUb2spXG4gICAgICBjYWxCcmFuY2godG9rKVxuICAgICAgcmV0dXJuIHRva1xuICAgIGRlZmF1bHQ6XG4gICAgICBsb2dFcnIoJ1VuZXhwZWN0IHRvay50eXBlJywgY2FsVG9rLCB0b2spXG4gIH1cbn1cblxuLy8gID09PT09PT09PT09IGltcG9zZUNvbm5lY3Rpb24gPT09PT09PT09PT1cblxuZXhwb3J0IGNvbnN0IGltcG9zZUNvbm5lY3Rpb24gPSAodG9rKSA9PiB7XG4gIHN3aXRjaCAodG9rLnR5cGUpIHtcbiAgICBjYXNlIFRPUElDOlxuICAgICAgYnJlYWtcbiAgICBjYXNlIEdST1VQOlxuICAgICAgdG9rLmVsdHMuZm9yRWFjaChpbXBvc2VDb25uZWN0aW9uKVxuICAgICAgYnJlYWtcbiAgICBjYXNlIEJSQU5DSDpcbiAgICAgIGNvbnN0IFt0b3BpYywgLi4ub3RoZXJzXSA9IHRvay5lbHRzXG4gICAgICBjb25zdCBvdXRQb3NBcnIgPSB0b2suZ2V0T3V0UG9pbnRzKCkubWFwKChwb2ludCkgPT4ge1xuICAgICAgICByZXR1cm4geyB0b2s6IHRvcGljLCBwb3M6IHBvaW50IH1cbiAgICAgIH0pXG4gICAgICBvdGhlcnMuZm9yRWFjaChpbXBvc2VDb25uZWN0aW9uKVxuICAgICAgb3RoZXJzLmZvckVhY2goKHQsIGkpID0+IGltcG9zZUluUG9zKHQsIG91dFBvc0FycltpXSkpXG4gICAgICB0b3BpYy5jb25uT1VUUyA9IHRvay5jcmVhdGVPdXRDb25ucygpXG4gICAgICBicmVha1xuICB9XG5cbiAgcmV0dXJuIHRva1xufVxuXG5jb25zdCBpbXBvc2VJblBvcyA9ICh0b2ssIG91dFBvcykgPT4ge1xuICBzd2l0Y2ggKHRvay50eXBlKSB7XG4gICAgY2FzZSBUT1BJQzpcbiAgICAgIGNvbnN0IGluUG9zID0geyB0b2ssIHBvczogdG9rLmdldEpvaW50KCkgfVxuICAgICAgdG9rLmNvbm4gPSBuZXcgQ29ubihvdXRQb3MsIGluUG9zKVxuICAgICAgYnJlYWtcbiAgICBjYXNlIEdST1VQOlxuICAgICAgdG9rLmVsdHMuZm9yRWFjaCgodCkgPT4gaW1wb3NlSW5Qb3ModCwgb3V0UG9zKSlcbiAgICAgIGJyZWFrXG4gICAgY2FzZSBCUkFOQ0g6XG4gICAgICBjb25zdCBbdG9waWMsIC4uLm90aGVyc10gPSB0b2suZWx0c1xuICAgICAgaW1wb3NlSW5Qb3ModG9waWMsIG91dFBvcylcbiAgfVxufVxuXG4vLyAgPT09PT09PT09PT0gaW1wb3NlVG9rID09PT09PT09PT09XG5cbmV4cG9ydCBjb25zdCBpbXBvc2VUb2sgPSAobm9kZSwgaSA9IDApID0+IHtcbiAgY29uc3QgdG9rID0gY3JlYXRlVG9rQnlMYXllcihub2RlLCBpKVxuICBub2RlLnRvayA9IHRva1xuICBub2RlLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiBpbXBvc2VUb2soY2hpbGQsIGkgKyAxKSlcbiAgcmV0dXJuIG5vZGVcbn1cblxuLy8gPT09PT09PT09PT0gZmxhdHRlbkJyYW5jaCA9PT09PT09PT09PVxuXG5leHBvcnQgY29uc3QgZmxhdHRlbkJyYW5jaCA9ICh0b2spID0+IHtcblxuICBjb25zdCBpdGVyID0gKHRvaywgcG9zKSA9PiB7XG4gICAgdG9rLnBvcyA9IHBvc0FkZCh0b2sucG9zLCBwb3MpXG4gICAgdG9rLnBhcmVudCA9IG51bGxcbiAgICBpZiAoaXNUb3BpYyh0b2spKSB7IHJldHVybiBbdG9rXSB9XG4gICAgZWxzZSB7IHJldHVybiBtYXBGbGF0KHRvay5lbHRzLCAodCkgPT4gaXRlcih0LCB0b2sucG9zKSkgfVxuICB9XG5cbiAgY29uc3Qgb3JpZ2luUG9zID0geyB4OiAwLCB5OiAwIH1cbiAgcmV0dXJuIGl0ZXIodG9rLCBvcmlnaW5Qb3MpXG59XG5cbi8vID09PT09PT09PT09IGV4cG9zZUNvbm4gPT09PT09PT09PT1cbmV4cG9ydCBjb25zdCBleHBvc2VDb25uID0gKHRva3MpID0+IHtcbiAgY29uc3QgY29ubnMgPSB0b2tzLmZpbHRlcigodG9rKSA9PiBpc0RlZih0b2suY29ubikpLm1hcCgodCkgPT4gdC5jb25uLmdlbmVyYXRlKCkpXG4gIGNvbnN0IGZpbHRlclRvayA9IHRva3MuZmlsdGVyKCh0b2spID0+IGlzRGVmKHRvay5jb25uT1VUUykpXG4gIGNvbnN0IE9jb25ucyA9IG1hcEZsYXQoZmlsdGVyVG9rLCAodCkgPT4gdC5jb25uT1VUUy5tYXAoKGMpID0+IGMuZ2VuZXJhdGUoKSkpXG5cbiAgcmV0dXJuIFsuLi5jb25ucywgLi4uT2Nvbm5zLCAuLi50b2tzXVxufVxuXG4vLyA9PT09PT09PT09PSByZW5kZXIgPT09PT09PT09PT1cblxuY29uc3QgY3JlYXRlUmVjdCA9ICh0b2spID0+IHtcbiAgY29uc3QgeyB4LCB5IH0gPSB0b2sucG9zXG4gIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdG9rLnNpemVcbiAgY29uc3QgZmlsbCA9IHRvay5jb2xvclxuXG4gIGNvbnN0IHJlY3QgPSBuZXcgU1ZHLlJlY3QoKS5hdHRyKHsgd2lkdGgsIGhlaWdodCwgZmlsbCB9KVxuICByZWN0LnRyYW5zbGF0ZSh4LCB5KS5yYWRpdXMoMylcbiAgcmV0dXJuIHJlY3Rcbn1cblxuY29uc3QgY3JlYXRlUGF0aCA9ICh0b2spID0+IHtcbiAgY29uc3QgeyBwMSwgcDIgfSA9IHRva1xuICBjb25zdCBkID0gYE0gJHtwMS54fSAke3AxLnl9IEwgJHtwMi54fSAke3AyLnl9IFpgXG5cbiAgY29uc3QgcGF0aCA9IG5ldyBTVkcuUGF0aCgpXG4gIHBhdGguYXR0cih7IGQsIHN0cm9rZTogJ2JsYWNrJyB9KVxuICByZXR1cm4gcGF0aFxufVxuXG5leHBvcnQgY29uc3QgcmVuZGVyID0gKHRva3MpID0+IHtcblxuICBjb25zdCBTbm9kZXMgPSB0b2tzLm1hcCgodG9rKSA9PiB7XG4gICAgc3dpdGNoICh0b2sudHlwZSkge1xuICAgICAgY2FzZSBUT1BJQzpcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVJlY3QodG9rKVxuICAgICAgY2FzZSBDT05OOlxuICAgICAgICByZXR1cm4gY3JlYXRlUGF0aCh0b2spXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm5cbiAgICB9XG4gIH0pLmZpbHRlcihpc0RlZilcblxuICBjb25zdCBnID0gbmV3IFNWRy5HKCkuZGF0YSgnbmFtZScsIFwiY29udGFpbmVyXCIpXG4gIFNub2Rlcy5mb3JFYWNoKChub2RlKSA9PiBnLmFkZChub2RlKSlcbiAgcmV0dXJuIGdcbn0iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFaQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFkQTtBQUNBO0FBZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVZBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/pass.js\n");

/***/ }),

/***/ "./src/struct.js":
/*!***********************!*\
  !*** ./src/struct.js ***!
  \***********************/
/*! exports provided: transNode */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"transNode\", function() { return transNode; });\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util */ \"./src/util.js\");\n/* harmony import */ var _tok__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./tok */ \"./src/tok.js\");\n/* harmony import */ var _structUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./structUtil */ \"./src/structUtil.js\");\n/* harmony import */ var _constant__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./constant */ \"./src/constant.js\");\n\n\n\n\n\nconst transNode = (node, ctx = _constant__WEBPACK_IMPORTED_MODULE_3__[\"MAP\"]) => {\n\n  ctx = node.struct || ctx;\n  const topic = node.tok;\n\n  if (Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"isNull\"])(node.children)) {\n    return new _tok__WEBPACK_IMPORTED_MODULE_1__[\"Branch\"]({ elts: [topic], OUTS: [] });\n  } else {\n    const OUTS = Object(_structUtil__WEBPACK_IMPORTED_MODULE_2__[\"getOUTS\"])(ctx);\n\n    switch (ctx) {\n\n      case _constant__WEBPACK_IMPORTED_MODULE_3__[\"LOGIC_R\"]:\n      case _constant__WEBPACK_IMPORTED_MODULE_3__[\"LOGIC_L\"]:\n      case _constant__WEBPACK_IMPORTED_MODULE_3__[\"ORG\"]:\n      case _constant__WEBPACK_IMPORTED_MODULE_3__[\"ORG_UP\"]:\n      case _constant__WEBPACK_IMPORTED_MODULE_3__[\"TREE_L\"]:\n      case _constant__WEBPACK_IMPORTED_MODULE_3__[\"TREE_R\"]:\n      case _constant__WEBPACK_IMPORTED_MODULE_3__[\"TIME_H\"]:\n      case _constant__WEBPACK_IMPORTED_MODULE_3__[\"TIME_V\"]:\n      case _constant__WEBPACK_IMPORTED_MODULE_3__[\"TIME_UP\"]:\n      case _constant__WEBPACK_IMPORTED_MODULE_3__[\"TIME_DOWN\"]:\n      case _constant__WEBPACK_IMPORTED_MODULE_3__[\"FISH_RIGHT_UP\"]:\n      case _constant__WEBPACK_IMPORTED_MODULE_3__[\"FISH_RIGHT_DOWN\"]:\n      case _constant__WEBPACK_IMPORTED_MODULE_3__[\"FISH_LEFT_UP\"]:\n      case _constant__WEBPACK_IMPORTED_MODULE_3__[\"FISH_LEFT_DOWN\"]:\n        {\n          const group = transList(node.children, ctx);\n          return new _tok__WEBPACK_IMPORTED_MODULE_1__[\"Branch\"]({ elts: [topic, group], OUTS });\n        }\n\n      case _constant__WEBPACK_IMPORTED_MODULE_3__[\"MAP\"]:\n        {\n          const [right, left] = Object(_structUtil__WEBPACK_IMPORTED_MODULE_2__[\"splitTactic\"])(node.children);\n          const rGroup = transList(right, _constant__WEBPACK_IMPORTED_MODULE_3__[\"LOGIC_R\"]);\n          const lGroup = transList(left, _constant__WEBPACK_IMPORTED_MODULE_3__[\"LOGIC_L\"]);\n          return new _tok__WEBPACK_IMPORTED_MODULE_1__[\"Branch\"]({ elts: [topic, rGroup, lGroup], OUTS });\n        }\n\n      default:\n        Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"logErr\"])('Unknown ctx', transTok, ctx);\n    }\n  }\n};\n\nconst transList = (nodes, ctx) => {\n\n  const getToks = (nodes, ctx) => {\n    switch (ctx) {\n      case _constant__WEBPACK_IMPORTED_MODULE_3__[\"TIME_H\"]:\n        {\n          const ctxs = [_constant__WEBPACK_IMPORTED_MODULE_3__[\"TIME_UP\"], _constant__WEBPACK_IMPORTED_MODULE_3__[\"TIME_DOWN\"]];\n          const INs = ctxs.map(_structUtil__WEBPACK_IMPORTED_MODULE_2__[\"getIN\"]);\n          return nodes.map((node, i) => {\n            const ctx = Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"isEven\"])(i) ? ctxs[0] : ctxs[1];\n            const IN = Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"isEven\"])(i) ? INs[0] : INs[1];\n            const tok = transNode(node, ctx);\n            tok.IN = IN;\n            return tok;\n          });\n        }\n\n      case _constant__WEBPACK_IMPORTED_MODULE_3__[\"TIME_V\"]:\n        {\n          const ctxs = [_constant__WEBPACK_IMPORTED_MODULE_3__[\"TREE_R\"], _constant__WEBPACK_IMPORTED_MODULE_3__[\"TREE_L\"]];\n          const INs = ctxs.map(_structUtil__WEBPACK_IMPORTED_MODULE_2__[\"getIN\"]);\n          return nodes.map((node, i) => {\n            const ctx = Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"isEven\"])(i) ? ctxs[0] : ctxs[1];\n            const IN = Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"isEven\"])(i) ? INs[0] : INs[1];\n            const tok = transNode(node, ctx);\n            tok.IN = IN;\n            return tok;\n          });\n        }\n\n      case _constant__WEBPACK_IMPORTED_MODULE_3__[\"TIME_UP\"]:\n      case _constant__WEBPACK_IMPORTED_MODULE_3__[\"TIME_DOWN\"]:\n        {\n          const IN = Object(_structUtil__WEBPACK_IMPORTED_MODULE_2__[\"getIN\"])(ctx);\n          return nodes.map(node => {\n            const tok = transNode(node, _constant__WEBPACK_IMPORTED_MODULE_3__[\"LOGIC_R\"]);\n            tok.IN = IN;\n            return tok;\n          });\n        }\n      default:\n        {\n          const IN = Object(_structUtil__WEBPACK_IMPORTED_MODULE_2__[\"getIN\"])(ctx);\n          return nodes.map(node => {\n            const tok = transNode(node, ctx);\n            tok.IN = IN;\n            return tok;\n          });\n        }\n    }\n  };\n\n  const gIN = Object(_structUtil__WEBPACK_IMPORTED_MODULE_2__[\"getGroupIN\"])(ctx);\n  const dir = Object(_structUtil__WEBPACK_IMPORTED_MODULE_2__[\"getGroupDir\"])(ctx);\n  const toks = getToks(nodes, ctx);\n\n  return new _tok__WEBPACK_IMPORTED_MODULE_1__[\"Group\"]({ elts: toks, IN: gIN, dir });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc3RydWN0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9zdHJ1Y3QuanM/NzZiYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBsb2dFcnIsIGlzTnVsbCwgaXNFdmVuIH0gZnJvbSAnLi91dGlsJ1xuaW1wb3J0IHsgQnJhbmNoLCBHcm91cCB9IGZyb20gJy4vdG9rJ1xuaW1wb3J0IHsgZ2V0T1VUUywgZ2V0SU4sIGdldEdyb3VwSU4sIGdldEdyb3VwRGlyLCBzcGxpdFRhY3RpYyB9IGZyb20gJy4vc3RydWN0VXRpbCdcbmltcG9ydCB7XG4gIEJSQU5DSCwgVE9QSUMsIEdST1VQLFxuICBET1dOLCBSSUdIVCwgTEVGVCxcbiAgTUFQLCBMT0dJQ19SLCBMT0dJQ19MLCBPUkcsIE9SR19VUCxcbiAgVFJFRV9MLCBUUkVFX1IsIFRJTUVfSCwgVElNRV9VUCwgVElNRV9ET1dOLCBUSU1FX1YsXG4gIEZJU0hfUklHSFRfVVAsIEZJU0hfTEVGVF9VUCwgRklTSF9MRUZUX0RPV04sIEZJU0hfUklHSFRfRE9XTlxufSBmcm9tICcuL2NvbnN0YW50J1xuXG5cbmV4cG9ydCBjb25zdCB0cmFuc05vZGUgPSAobm9kZSwgY3R4ID0gTUFQKSA9PiB7XG5cbiAgY3R4ID0gbm9kZS5zdHJ1Y3QgfHwgY3R4XG4gIGNvbnN0IHRvcGljID0gbm9kZS50b2tcblxuICBpZiAoaXNOdWxsKG5vZGUuY2hpbGRyZW4pKSB7IHJldHVybiBuZXcgQnJhbmNoKHsgZWx0czogW3RvcGljXSwgT1VUUzogW10gfSkgfVxuICBlbHNlIHtcbiAgICBjb25zdCBPVVRTID0gZ2V0T1VUUyhjdHgpXG5cbiAgICBzd2l0Y2ggKGN0eCkge1xuXG4gICAgICBjYXNlIExPR0lDX1I6XG4gICAgICBjYXNlIExPR0lDX0w6XG4gICAgICBjYXNlIE9SRzpcbiAgICAgIGNhc2UgT1JHX1VQOlxuICAgICAgY2FzZSBUUkVFX0w6XG4gICAgICBjYXNlIFRSRUVfUjpcbiAgICAgIGNhc2UgVElNRV9IOlxuICAgICAgY2FzZSBUSU1FX1Y6XG4gICAgICBjYXNlIFRJTUVfVVA6XG4gICAgICBjYXNlIFRJTUVfRE9XTjpcbiAgICAgIGNhc2UgRklTSF9SSUdIVF9VUDpcbiAgICAgIGNhc2UgRklTSF9SSUdIVF9ET1dOOlxuICAgICAgY2FzZSBGSVNIX0xFRlRfVVA6XG4gICAgICBjYXNlIEZJU0hfTEVGVF9ET1dOOiB7XG4gICAgICAgIGNvbnN0IGdyb3VwID0gdHJhbnNMaXN0KG5vZGUuY2hpbGRyZW4sIGN0eClcbiAgICAgICAgcmV0dXJuIG5ldyBCcmFuY2goeyBlbHRzOiBbdG9waWMsIGdyb3VwXSwgT1VUUyB9KVxuICAgICAgfVxuXG4gICAgICBjYXNlIE1BUDoge1xuICAgICAgICBjb25zdCBbcmlnaHQsIGxlZnRdID0gc3BsaXRUYWN0aWMobm9kZS5jaGlsZHJlbilcbiAgICAgICAgY29uc3Qgckdyb3VwID0gdHJhbnNMaXN0KHJpZ2h0LCBMT0dJQ19SKVxuICAgICAgICBjb25zdCBsR3JvdXAgPSB0cmFuc0xpc3QobGVmdCwgTE9HSUNfTClcbiAgICAgICAgcmV0dXJuIG5ldyBCcmFuY2goeyBlbHRzOiBbdG9waWMsIHJHcm91cCwgbEdyb3VwXSwgT1VUUyB9KVxuICAgICAgfVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBsb2dFcnIoJ1Vua25vd24gY3R4JywgdHJhbnNUb2ssIGN0eClcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgdHJhbnNMaXN0ID0gKG5vZGVzLCBjdHgpID0+IHtcblxuICBjb25zdCBnZXRUb2tzID0gKG5vZGVzLCBjdHgpID0+IHtcbiAgICBzd2l0Y2ggKGN0eCkge1xuICAgICAgY2FzZSBUSU1FX0g6IHtcbiAgICAgICAgY29uc3QgY3R4cyA9IFtUSU1FX1VQLCBUSU1FX0RPV05dXG4gICAgICAgIGNvbnN0IElOcyA9IGN0eHMubWFwKGdldElOKVxuICAgICAgICByZXR1cm4gbm9kZXMubWFwKChub2RlLCBpKSA9PiB7XG4gICAgICAgICAgY29uc3QgY3R4ID0gaXNFdmVuKGkpID8gY3R4c1swXSA6IGN0eHNbMV1cbiAgICAgICAgICBjb25zdCBJTiA9IGlzRXZlbihpKSA/IElOc1swXSA6IElOc1sxXVxuICAgICAgICAgIGNvbnN0IHRvayA9IHRyYW5zTm9kZShub2RlLCBjdHgpXG4gICAgICAgICAgdG9rLklOID0gSU5cbiAgICAgICAgICByZXR1cm4gdG9rXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIGNhc2UgVElNRV9WOiB7XG4gICAgICAgIGNvbnN0IGN0eHMgPSBbVFJFRV9SLCBUUkVFX0xdXG4gICAgICAgIGNvbnN0IElOcyA9IGN0eHMubWFwKGdldElOKVxuICAgICAgICByZXR1cm4gbm9kZXMubWFwKChub2RlLCBpKSA9PiB7XG4gICAgICAgICAgY29uc3QgY3R4ID0gaXNFdmVuKGkpID8gY3R4c1swXSA6IGN0eHNbMV1cbiAgICAgICAgICBjb25zdCBJTiA9IGlzRXZlbihpKSA/IElOc1swXSA6IElOc1sxXVxuICAgICAgICAgIGNvbnN0IHRvayA9IHRyYW5zTm9kZShub2RlLCBjdHgpXG4gICAgICAgICAgdG9rLklOID0gSU5cbiAgICAgICAgICByZXR1cm4gdG9rXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIGNhc2UgVElNRV9VUDpcbiAgICAgIGNhc2UgVElNRV9ET1dOOiB7XG4gICAgICAgIGNvbnN0IElOID0gZ2V0SU4oY3R4KVxuICAgICAgICByZXR1cm4gbm9kZXMubWFwKChub2RlKSA9PiB7XG4gICAgICAgICAgY29uc3QgdG9rID0gdHJhbnNOb2RlKG5vZGUsIExPR0lDX1IpXG4gICAgICAgICAgdG9rLklOID0gSU5cbiAgICAgICAgICByZXR1cm4gdG9rXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIGNvbnN0IElOID0gZ2V0SU4oY3R4KVxuICAgICAgICByZXR1cm4gbm9kZXMubWFwKChub2RlKSA9PiB7XG4gICAgICAgICAgY29uc3QgdG9rID0gdHJhbnNOb2RlKG5vZGUsIGN0eClcbiAgICAgICAgICB0b2suSU4gPSBJTlxuICAgICAgICAgIHJldHVybiB0b2tcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb25zdCBnSU4gPSBnZXRHcm91cElOKGN0eClcbiAgY29uc3QgZGlyID0gZ2V0R3JvdXBEaXIoY3R4KVxuICBjb25zdCB0b2tzID0gZ2V0VG9rcyhub2RlcywgY3R4KVxuXG4gIHJldHVybiBuZXcgR3JvdXAoeyBlbHRzOiB0b2tzLCBJTjogZ0lOLCBkaXIgfSlcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE1QkE7QUE4QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF6Q0E7QUEyQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/struct.js\n");

/***/ }),

/***/ "./src/structUtil.js":
/*!***************************!*\
  !*** ./src/structUtil.js ***!
  \***************************/
/*! exports provided: getOUTS, getGroupIN, getGroupDir, getIN, splitTactic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getOUTS\", function() { return getOUTS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getGroupIN\", function() { return getGroupIN; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getGroupDir\", function() { return getGroupDir; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getIN\", function() { return getIN; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"splitTactic\", function() { return splitTactic; });\n/* harmony import */ var _constant__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constant */ \"./src/constant.js\");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util */ \"./src/util.js\");\n\n\n\nconst getOUTS = ctx => {\n  switch (ctx) {\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"LOGIC_R\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"TIME_H\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"FISH_RIGHT_UP\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"FISH_RIGHT_DOWN\"]:\n      return [_constant__WEBPACK_IMPORTED_MODULE_0__[\"RIGHT\"]];\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"LOGIC_L\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"FISH_LEFT_UP\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"FISH_LEFT_DOWN\"]:\n      return [_constant__WEBPACK_IMPORTED_MODULE_0__[\"LEFT\"]];\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"ORG\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"TREE_L\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"TREE_R\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"TIME_DOWN\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"TIME_V\"]:\n      return [_constant__WEBPACK_IMPORTED_MODULE_0__[\"DOWN\"]];\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"ORG_UP\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"TIME_UP\"]:\n      return [_constant__WEBPACK_IMPORTED_MODULE_0__[\"UP\"]];\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"MAP\"]:\n      return [_constant__WEBPACK_IMPORTED_MODULE_0__[\"RIGHT\"], _constant__WEBPACK_IMPORTED_MODULE_0__[\"LEFT\"]];\n    default:\n      Object(_util__WEBPACK_IMPORTED_MODULE_1__[\"logErr\"])('Unknown ctx', getOUTS, ctx);\n  }\n};\n\nconst getGroupIN = ctx => {\n  switch (ctx) {\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"LOGIC_R\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"TIME_H\"]:\n      return _constant__WEBPACK_IMPORTED_MODULE_0__[\"LEFT\"];\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"LOGIC_L\"]:\n      return _constant__WEBPACK_IMPORTED_MODULE_0__[\"RIGHT\"];\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"ORG\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"TIME_V\"]:\n      return _constant__WEBPACK_IMPORTED_MODULE_0__[\"UP\"];\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"ORG_UP\"]:\n      return _constant__WEBPACK_IMPORTED_MODULE_0__[\"DOWN\"];\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"TREE_R\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"TIME_DOWN\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"FISH_RIGHT_DOWN\"]:\n      return _constant__WEBPACK_IMPORTED_MODULE_0__[\"LEFT_UP\"];\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"TIME_UP\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"FISH_RIGHT_UP\"]:\n      return _constant__WEBPACK_IMPORTED_MODULE_0__[\"LEFT_DOWN\"];\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"TREE_L\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"FISH_LEFT_DOWN\"]:\n      return _constant__WEBPACK_IMPORTED_MODULE_0__[\"RIGHT_UP\"];\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"FISH_LEFT_UP\"]:\n      return _constant__WEBPACK_IMPORTED_MODULE_0__[\"RIGHT_DOWN\"];\n    default:\n      Object(_util__WEBPACK_IMPORTED_MODULE_1__[\"logErr\"])('Unknown ctx', getGroupIN, ctx);\n  }\n};\n\nconst getGroupDir = ctx => {\n  switch (ctx) {\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"LOGIC_R\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"LOGIC_L\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"TREE_R\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"TREE_L\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"TIME_UP\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"TIME_DOWN\"]:\n      return _constant__WEBPACK_IMPORTED_MODULE_0__[\"DOWN\"];\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"ORG\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"ORG_UP\"]:\n      return _constant__WEBPACK_IMPORTED_MODULE_0__[\"RIGHT\"];\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"TIME_H\"]:\n      return _constant__WEBPACK_IMPORTED_MODULE_0__[\"RIGHT_INTER\"];\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"TIME_V\"]:\n      return _constant__WEBPACK_IMPORTED_MODULE_0__[\"DOWN_INTER\"];\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"FISH_RIGHT_UP\"]:\n      return _constant__WEBPACK_IMPORTED_MODULE_0__[\"RIGHT_UP\"];\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"FISH_RIGHT_DOWN\"]:\n      return _constant__WEBPACK_IMPORTED_MODULE_0__[\"RIGHT_DOWN\"];\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"FISH_LEFT_UP\"]:\n      return _constant__WEBPACK_IMPORTED_MODULE_0__[\"LEFT_UP\"];\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"FISH_LEFT_DOWN\"]:\n      return _constant__WEBPACK_IMPORTED_MODULE_0__[\"LEFT_DOWN\"];\n    default:\n      Object(_util__WEBPACK_IMPORTED_MODULE_1__[\"logErr\"])('Unknown ctx', getGroupDir, ctx);\n  }\n};\n\nconst getIN = ctx => {\n  switch (ctx) {\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"LOGIC_R\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"TREE_R\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"TIME_UP\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"TIME_DOWN\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"FISH_RIGHT_UP\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"FISH_RIGHT_DOWN\"]:\n      return _constant__WEBPACK_IMPORTED_MODULE_0__[\"LEFT\"];\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"LOGIC_L\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"TREE_L\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"FISH_LEFT_UP\"]:\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"FISH_LEFT_DOWN\"]:\n      return _constant__WEBPACK_IMPORTED_MODULE_0__[\"RIGHT\"];\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"ORG\"]:\n      return _constant__WEBPACK_IMPORTED_MODULE_0__[\"UP\"];\n    case _constant__WEBPACK_IMPORTED_MODULE_0__[\"ORG_UP\"]:\n      return _constant__WEBPACK_IMPORTED_MODULE_0__[\"DOWN\"];\n    default:\n      Object(_util__WEBPACK_IMPORTED_MODULE_1__[\"logErr\"])('Unknown ctx', getInDir, ctx);\n  }\n};\n\nconst splitTactic = arr => {\n  const rightNum = Math.ceil(arr.length / 2);\n  const right = arr.slice(0, rightNum);\n  const left = arr.slice(rightNum);\n  return [right, left];\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc3RydWN0VXRpbC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvc3RydWN0VXRpbC5qcz81ZTM0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIFJJR0hULCBMRUZULCBET1dOLCBVUCxcbiAgTEVGVF9ET1dOLCBMRUZUX1VQLCBSSUdIVF9VUCwgUklHSFRfRE9XTixcbiAgUklHSFRfSU5URVIsIERPV05fSU5URVIsXG4gIExPR0lDX1IsIExPR0lDX0wsIE1BUCwgT1JHLCBPUkdfVVAsXG4gIFRSRUVfTCwgVFJFRV9SLCBUSU1FX0RPV04sIFRJTUVfVVAsIFRJTUVfSCwgVElNRV9WLFxuICBGSVNIX1JJR0hUX1VQLCBGSVNIX0xFRlRfVVAsIEZJU0hfTEVGVF9ET1dOLCBGSVNIX1JJR0hUX0RPV05cbn0gZnJvbSAnLi9jb25zdGFudCdcbmltcG9ydCB7IGxvZ0VyciB9IGZyb20gJy4vdXRpbCdcblxuZXhwb3J0IGNvbnN0IGdldE9VVFMgPSAoY3R4KSA9PiB7XG4gIHN3aXRjaCAoY3R4KSB7XG4gICAgY2FzZSBMT0dJQ19SOlxuICAgIGNhc2UgVElNRV9IOlxuICAgIGNhc2UgRklTSF9SSUdIVF9VUDpcbiAgICBjYXNlIEZJU0hfUklHSFRfRE9XTjpcbiAgICAgIHJldHVybiBbUklHSFRdXG4gICAgY2FzZSBMT0dJQ19MOlxuICAgIGNhc2UgRklTSF9MRUZUX1VQOlxuICAgIGNhc2UgRklTSF9MRUZUX0RPV046XG4gICAgICByZXR1cm4gW0xFRlRdXG4gICAgY2FzZSBPUkc6XG4gICAgY2FzZSBUUkVFX0w6XG4gICAgY2FzZSBUUkVFX1I6XG4gICAgY2FzZSBUSU1FX0RPV046XG4gICAgY2FzZSBUSU1FX1Y6XG4gICAgICByZXR1cm4gW0RPV05dXG4gICAgY2FzZSBPUkdfVVA6XG4gICAgY2FzZSBUSU1FX1VQOlxuICAgICAgcmV0dXJuIFtVUF1cbiAgICBjYXNlIE1BUDpcbiAgICAgIHJldHVybiBbUklHSFQsIExFRlRdXG4gICAgZGVmYXVsdDpcbiAgICAgIGxvZ0VycignVW5rbm93biBjdHgnLCBnZXRPVVRTLCBjdHgpXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGdldEdyb3VwSU4gPSAoY3R4KSA9PiB7XG4gIHN3aXRjaCAoY3R4KSB7XG4gICAgY2FzZSBMT0dJQ19SOlxuICAgIGNhc2UgVElNRV9IOlxuICAgICAgcmV0dXJuIExFRlRcbiAgICBjYXNlIExPR0lDX0w6XG4gICAgICByZXR1cm4gUklHSFRcbiAgICBjYXNlIE9SRzpcbiAgICBjYXNlIFRJTUVfVjpcbiAgICAgIHJldHVybiBVUFxuICAgIGNhc2UgT1JHX1VQOlxuICAgICAgcmV0dXJuIERPV05cbiAgICBjYXNlIFRSRUVfUjpcbiAgICBjYXNlIFRJTUVfRE9XTjpcbiAgICBjYXNlIEZJU0hfUklHSFRfRE9XTjpcbiAgICAgIHJldHVybiBMRUZUX1VQXG4gICAgY2FzZSBUSU1FX1VQOlxuICAgIGNhc2UgRklTSF9SSUdIVF9VUDpcbiAgICAgIHJldHVybiBMRUZUX0RPV05cbiAgICBjYXNlIFRSRUVfTDpcbiAgICBjYXNlIEZJU0hfTEVGVF9ET1dOOlxuICAgICAgcmV0dXJuIFJJR0hUX1VQXG4gICAgY2FzZSBGSVNIX0xFRlRfVVA6XG4gICAgICByZXR1cm4gUklHSFRfRE9XTlxuICAgIGRlZmF1bHQ6XG4gICAgICBsb2dFcnIoJ1Vua25vd24gY3R4JywgZ2V0R3JvdXBJTiwgY3R4KVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBnZXRHcm91cERpciA9IChjdHgpID0+IHtcbiAgc3dpdGNoIChjdHgpIHtcbiAgICBjYXNlIExPR0lDX1I6XG4gICAgY2FzZSBMT0dJQ19MOlxuICAgIGNhc2UgVFJFRV9SOlxuICAgIGNhc2UgVFJFRV9MOlxuICAgIGNhc2UgVElNRV9VUDpcbiAgICBjYXNlIFRJTUVfRE9XTjpcbiAgICAgIHJldHVybiBET1dOXG4gICAgY2FzZSBPUkc6XG4gICAgY2FzZSBPUkdfVVA6XG4gICAgICByZXR1cm4gUklHSFRcbiAgICBjYXNlIFRJTUVfSDpcbiAgICAgIHJldHVybiBSSUdIVF9JTlRFUlxuICAgIGNhc2UgVElNRV9WOlxuICAgICAgcmV0dXJuIERPV05fSU5URVJcbiAgICBjYXNlIEZJU0hfUklHSFRfVVA6XG4gICAgICByZXR1cm4gUklHSFRfVVBcbiAgICBjYXNlIEZJU0hfUklHSFRfRE9XTjpcbiAgICAgIHJldHVybiBSSUdIVF9ET1dOXG4gICAgY2FzZSBGSVNIX0xFRlRfVVA6XG4gICAgICByZXR1cm4gTEVGVF9VUFxuICAgIGNhc2UgRklTSF9MRUZUX0RPV046XG4gICAgICByZXR1cm4gTEVGVF9ET1dOXG4gICAgZGVmYXVsdDpcbiAgICAgIGxvZ0VycignVW5rbm93biBjdHgnLCBnZXRHcm91cERpciwgY3R4KVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBnZXRJTiA9IChjdHgpID0+IHtcbiAgc3dpdGNoIChjdHgpIHtcbiAgICBjYXNlIExPR0lDX1I6XG4gICAgY2FzZSBUUkVFX1I6XG4gICAgY2FzZSBUSU1FX1VQOlxuICAgIGNhc2UgVElNRV9ET1dOOlxuICAgIGNhc2UgRklTSF9SSUdIVF9VUDpcbiAgICBjYXNlIEZJU0hfUklHSFRfRE9XTjpcbiAgICAgIHJldHVybiBMRUZUXG4gICAgY2FzZSBMT0dJQ19MOlxuICAgIGNhc2UgVFJFRV9MOlxuICAgIGNhc2UgRklTSF9MRUZUX1VQOlxuICAgIGNhc2UgRklTSF9MRUZUX0RPV046XG4gICAgICByZXR1cm4gUklHSFRcbiAgICBjYXNlIE9SRzpcbiAgICAgIHJldHVybiBVUFxuICAgIGNhc2UgT1JHX1VQOlxuICAgICAgcmV0dXJuIERPV05cbiAgICBkZWZhdWx0OlxuICAgICAgbG9nRXJyKCdVbmtub3duIGN0eCcsIGdldEluRGlyLCBjdHgpXG4gIH1cbn1cblxuXG5leHBvcnQgY29uc3Qgc3BsaXRUYWN0aWMgPSAoYXJyKSA9PiB7XG4gIGNvbnN0IHJpZ2h0TnVtID0gTWF0aC5jZWlsKGFyci5sZW5ndGggLyAyKVxuICBjb25zdCByaWdodCA9IGFyci5zbGljZSgwLCByaWdodE51bSlcbiAgY29uc3QgbGVmdCA9IGFyci5zbGljZShyaWdodE51bSlcbiAgcmV0dXJuIFtyaWdodCwgbGVmdF1cbn0iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF0QkE7QUF3QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF4QkE7QUEwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF4QkE7QUEwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFsQkE7QUFvQkE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/structUtil.js\n");

/***/ }),

/***/ "./src/tok.js":
/*!********************!*\
  !*** ./src/tok.js ***!
  \********************/
/*! exports provided: Topic, Group, Branch, Conn, isBranch, isGroup, isTopic, createEmptyTok, createRandTok, createTokByLayer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Topic\", function() { return Topic; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Group\", function() { return Group; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Branch\", function() { return Branch; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Conn\", function() { return Conn; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isBranch\", function() { return isBranch; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isGroup\", function() { return isGroup; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isTopic\", function() { return isTopic; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createEmptyTok\", function() { return createEmptyTok; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createRandTok\", function() { return createRandTok; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createTokByLayer\", function() { return createTokByLayer; });\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util */ \"./src/util.js\");\n/* harmony import */ var _layoutUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./layoutUtil */ \"./src/layoutUtil.js\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./config */ \"./src/config.js\");\n/* harmony import */ var _constant__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./constant */ \"./src/constant.js\");\n\n\n\n\n\nclass Tok {\n  constructor(opts) {\n    this.pos = { x: 0, y: 0 };\n    this.size = opts.size || { width: 0, height: 0 };\n\n    this.padding = opts.padding || [0, 0, 0, 0];\n    this.margin = opts.margin || [0, 0, 0, 0];\n    const [top, right, bottom, left] = this.padding;\n    this.size.width += left + right;\n    this.size.height += top + bottom;\n\n    this.elts = opts.elts || [];\n    this.elts.forEach(elt => elt.parent = this);\n\n    this.IN = opts.IN;\n  }\n\n  getJoint() {\n    Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"logErr\"])('Undefined method', this.getJoint, this);\n  }\n\n}\n\nclass Topic extends Tok {\n\n  constructor(opts) {\n    super(opts);\n    this.type = _constant__WEBPACK_IMPORTED_MODULE_3__[\"TOPIC\"];\n    this.color = opts.color;\n  }\n\n  getJoint() {\n    const IN = Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"isDef\"])(this.IN) ? this.IN : this.parent.IN;\n    return Object(_layoutUtil__WEBPACK_IMPORTED_MODULE_1__[\"getTopicJoint\"])(this, IN);\n  }\n\n  getTopic() {\n    return this;\n  }\n\n}\n\nclass Group extends Tok {\n  constructor(opts) {\n    super(opts);\n    this.type = _constant__WEBPACK_IMPORTED_MODULE_3__[\"GROUP\"];\n    this.dir = opts.dir;\n  }\n\n  getJoint() {\n    const topics = this.getTopics();\n    const cj = topics[0] ? topics[0].getJoint() : null;\n    const padding = Object(_layoutUtil__WEBPACK_IMPORTED_MODULE_1__[\"getPadding\"])(this.IN, _config__WEBPACK_IMPORTED_MODULE_2__[\"GROUP_PADDING\"], cj);\n    return Object(_layoutUtil__WEBPACK_IMPORTED_MODULE_1__[\"getGroupJoint\"])(this, this.IN, padding);\n  }\n\n  getTopics() {\n    return this.elts.map(t => t.getTopic());\n  }\n\n}\n\nclass Branch extends Tok {\n  constructor(opts) {\n    super(opts);\n    this.type = _constant__WEBPACK_IMPORTED_MODULE_3__[\"BRANCH\"];\n    this.OUTS = opts.OUTS;\n  }\n\n  getJoint() {\n    return Object(_layoutUtil__WEBPACK_IMPORTED_MODULE_1__[\"getBranchJoint\"])(this, this.IN, _config__WEBPACK_IMPORTED_MODULE_2__[\"BRANCH_PADDING\"]);\n  }\n\n  getTopic() {\n    return this.elts[0];\n  }\n\n  getOutPoints() {\n    const topic = this.getTopic();\n    return this.OUTS.map(out => Object(_layoutUtil__WEBPACK_IMPORTED_MODULE_1__[\"getTopicJoint\"])(topic, out, _config__WEBPACK_IMPORTED_MODULE_2__[\"CONN_GAP\"]));\n  }\n\n  createOutConns() {\n    const topic = this.getTopic();\n    return this.OUTS.map(out => {\n      const p1 = { tok: topic, pos: Object(_layoutUtil__WEBPACK_IMPORTED_MODULE_1__[\"getTopicJoint\"])(topic, out) };\n      const p2 = { tok: topic, pos: Object(_layoutUtil__WEBPACK_IMPORTED_MODULE_1__[\"getTopicJoint\"])(topic, out, _config__WEBPACK_IMPORTED_MODULE_2__[\"CONN_GAP\"]) };\n      return new Conn(p1, p2);\n    });\n  }\n\n}\n\nclass Conn {\n  constructor(...points) {\n    this.points = points;\n    this.type = _constant__WEBPACK_IMPORTED_MODULE_3__[\"CONN\"];\n  }\n\n  generate() {\n    const posArr = this.points.map(p => Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"posAdd\"])(p.tok.pos, p.pos));\n    return {\n      p1: posArr[0],\n      p2: posArr[1],\n      type: this.type\n    };\n  }\n}\n\nconst isBranch = tok => tok.type === _constant__WEBPACK_IMPORTED_MODULE_3__[\"BRANCH\"];\nconst isGroup = tok => tok.type === _constant__WEBPACK_IMPORTED_MODULE_3__[\"GROUP\"];\nconst isTopic = tok => tok.type === _constant__WEBPACK_IMPORTED_MODULE_3__[\"TOPIC\"];\n\nconst createEmptyTok = () => {\n  return new Topic({ size: { width: 0, height: 0 } });\n};\n\nconst createRandTok = () => {\n  const width = Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"rand\"])(20, 30);\n  const height = Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"rand\"])(15, 15);\n\n  // const width = 30\n  // const height = 15\n\n  return new Topic({\n    size: { width, height },\n    margin: [5, 20, 5, 5]\n  });\n};\n\nconst createTokByLayer = (node, n) => {\n  const layerSize = [{ width: 100, height: 50 }, { width: 60, height: 30 }, { width: 40, height: 20 }];\n\n  n = Math.min(n, 2);\n\n  return new Topic({\n    size: layerSize[n],\n    margin: [5, 5, 5, 5],\n    color: node.color\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdG9rLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy90b2suanM/OTRhMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByYW5kLCBsb2dFcnIsIHBvc0FkZCwgaXNEZWYgfSBmcm9tICcuL3V0aWwnXG5pbXBvcnQgeyBnZXRUb3BpY0pvaW50LCBnZXRHcm91cEpvaW50LCBnZXRCcmFuY2hKb2ludCwgZ2V0UGFkZGluZyB9IGZyb20gJy4vbGF5b3V0VXRpbCdcbmltcG9ydCB7IEdST1VQX1BBRERJTkcsIENPTk5fR0FQLCBCUkFOQ0hfUEFERElORyB9IGZyb20gJy4vY29uZmlnJ1xuaW1wb3J0IHtcbiAgVE9QSUMsIEJSQU5DSCwgR1JPVVAsIENPTk4sXG4gIExFRlQsIFJJR0hULCBUT1AsIEJPVFRPTVxufSBmcm9tICcuL2NvbnN0YW50J1xuXG5jbGFzcyBUb2sge1xuICBjb25zdHJ1Y3RvciAob3B0cykge1xuICAgIHRoaXMucG9zID0geyB4OiAwLCB5OiAwIH1cbiAgICB0aGlzLnNpemUgPSBvcHRzLnNpemUgfHwgeyB3aWR0aDogMCwgaGVpZ2h0OiAwIH1cblxuICAgIHRoaXMucGFkZGluZyA9IG9wdHMucGFkZGluZyB8fCBbMCwgMCwgMCwgMF1cbiAgICB0aGlzLm1hcmdpbiA9IG9wdHMubWFyZ2luIHx8IFswLCAwLCAwLCAwXVxuICAgIGNvbnN0IFt0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnRdID0gdGhpcy5wYWRkaW5nXG4gICAgdGhpcy5zaXplLndpZHRoICs9IGxlZnQgKyByaWdodFxuICAgIHRoaXMuc2l6ZS5oZWlnaHQgKz0gdG9wICsgYm90dG9tXG5cbiAgICB0aGlzLmVsdHMgPSBvcHRzLmVsdHMgfHwgW11cbiAgICB0aGlzLmVsdHMuZm9yRWFjaCgoZWx0KSA9PiBlbHQucGFyZW50ID0gdGhpcylcblxuICAgIHRoaXMuSU4gPSBvcHRzLklOXG4gIH1cblxuICBnZXRKb2ludCAoKSB7IGxvZ0VycignVW5kZWZpbmVkIG1ldGhvZCcsIHRoaXMuZ2V0Sm9pbnQsIHRoaXMpIH1cblxufVxuXG5leHBvcnQgY2xhc3MgVG9waWMgZXh0ZW5kcyBUb2sge1xuXG4gIGNvbnN0cnVjdG9yIChvcHRzKSB7XG4gICAgc3VwZXIob3B0cylcbiAgICB0aGlzLnR5cGUgPSBUT1BJQ1xuICAgIHRoaXMuY29sb3IgPSBvcHRzLmNvbG9yXG4gIH1cblxuICBnZXRKb2ludCAoKSB7XG4gICAgY29uc3QgSU4gPSBpc0RlZih0aGlzLklOKSA/IHRoaXMuSU4gOiB0aGlzLnBhcmVudC5JTlxuICAgIHJldHVybiBnZXRUb3BpY0pvaW50KHRoaXMsIElOKVxuICB9XG5cbiAgZ2V0VG9waWMgKCkgeyByZXR1cm4gdGhpcyB9XG5cbn1cblxuZXhwb3J0IGNsYXNzIEdyb3VwIGV4dGVuZHMgVG9rIHtcbiAgY29uc3RydWN0b3IgKG9wdHMpIHtcbiAgICBzdXBlcihvcHRzKVxuICAgIHRoaXMudHlwZSA9IEdST1VQXG4gICAgdGhpcy5kaXIgPSBvcHRzLmRpclxuICB9XG5cbiAgZ2V0Sm9pbnQoKSB7XG4gICAgY29uc3QgdG9waWNzID0gdGhpcy5nZXRUb3BpY3MoKVxuICAgIGNvbnN0IGNqID0gdG9waWNzWzBdID8gdG9waWNzWzBdLmdldEpvaW50KCkgOiBudWxsXG4gICAgY29uc3QgcGFkZGluZyA9IGdldFBhZGRpbmcodGhpcy5JTiwgR1JPVVBfUEFERElORywgY2opXG4gICAgcmV0dXJuIGdldEdyb3VwSm9pbnQodGhpcywgdGhpcy5JTiwgcGFkZGluZylcbiAgfVxuXG4gIGdldFRvcGljcyAoKSB7IHJldHVybiB0aGlzLmVsdHMubWFwKCh0KSA9PiB0LmdldFRvcGljKCkpIH1cblxufVxuXG5leHBvcnQgY2xhc3MgQnJhbmNoIGV4dGVuZHMgVG9rIHtcbiAgY29uc3RydWN0b3IgKG9wdHMpIHtcbiAgICBzdXBlcihvcHRzKVxuICAgIHRoaXMudHlwZSA9IEJSQU5DSFxuICAgIHRoaXMuT1VUUyA9IG9wdHMuT1VUU1xuICB9XG5cbiAgZ2V0Sm9pbnQgKCkgeyByZXR1cm4gZ2V0QnJhbmNoSm9pbnQodGhpcywgdGhpcy5JTiwgQlJBTkNIX1BBRERJTkcpIH1cblxuICBnZXRUb3BpYyAoKSB7IHJldHVybiB0aGlzLmVsdHNbMF0gfVxuXG4gIGdldE91dFBvaW50cyAoKSB7XG4gICAgY29uc3QgdG9waWMgPSB0aGlzLmdldFRvcGljKClcbiAgICByZXR1cm4gdGhpcy5PVVRTLm1hcCgob3V0KSA9PiBnZXRUb3BpY0pvaW50KHRvcGljLCBvdXQsIENPTk5fR0FQKSlcbiAgfVxuXG4gIGNyZWF0ZU91dENvbm5zICgpIHtcbiAgICBjb25zdCB0b3BpYyA9IHRoaXMuZ2V0VG9waWMoKVxuICAgIHJldHVybiB0aGlzLk9VVFMubWFwKChvdXQpID0+IHtcbiAgICAgIGNvbnN0IHAxID0geyB0b2s6IHRvcGljLCBwb3M6IGdldFRvcGljSm9pbnQodG9waWMsIG91dCkgfVxuICAgICAgY29uc3QgcDIgPSB7IHRvazogdG9waWMsIHBvczogZ2V0VG9waWNKb2ludCh0b3BpYywgb3V0LCBDT05OX0dBUCkgfVxuICAgICAgcmV0dXJuIG5ldyBDb25uKHAxLCBwMilcbiAgICB9KVxuICB9XG5cbn1cblxuZXhwb3J0IGNsYXNzIENvbm4ge1xuICBjb25zdHJ1Y3RvciAoLi4ucG9pbnRzKSB7XG4gICAgdGhpcy5wb2ludHMgPSBwb2ludHNcbiAgICB0aGlzLnR5cGUgPSBDT05OXG4gIH1cblxuICBnZW5lcmF0ZSAoKSB7XG4gICAgY29uc3QgcG9zQXJyID0gdGhpcy5wb2ludHMubWFwKChwKSA9PiBwb3NBZGQocC50b2sucG9zLCBwLnBvcykpXG4gICAgcmV0dXJuIHtcbiAgICAgIHAxOiBwb3NBcnJbMF0sXG4gICAgICBwMjogcG9zQXJyWzFdLFxuICAgICAgdHlwZTogdGhpcy50eXBlXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBpc0JyYW5jaCA9ICh0b2spID0+IHRvay50eXBlID09PSBCUkFOQ0hcbmV4cG9ydCBjb25zdCBpc0dyb3VwID0gKHRvaykgPT4gdG9rLnR5cGUgPT09IEdST1VQXG5leHBvcnQgY29uc3QgaXNUb3BpYyA9ICh0b2spID0+IHRvay50eXBlID09PSBUT1BJQ1xuXG5leHBvcnQgY29uc3QgY3JlYXRlRW1wdHlUb2sgPSAoKSA9PiB7XG4gIHJldHVybiBuZXcgVG9waWMoeyBzaXplOiB7IHdpZHRoOiAwLCBoZWlnaHQ6IDAgfSwgfSlcbn1cblxuXG5leHBvcnQgY29uc3QgY3JlYXRlUmFuZFRvayA9ICgpID0+IHtcbiAgY29uc3Qgd2lkdGggPSByYW5kKDIwLCAzMClcbiAgY29uc3QgaGVpZ2h0ID0gcmFuZCgxNSwgMTUpXG5cbiAgLy8gY29uc3Qgd2lkdGggPSAzMFxuICAvLyBjb25zdCBoZWlnaHQgPSAxNVxuXG4gIHJldHVybiBuZXcgVG9waWMoe1xuICAgIHNpemU6IHsgd2lkdGgsIGhlaWdodCB9LFxuICAgIG1hcmdpbjogWzUsIDIwLCA1LCA1XSxcbiAgfSlcbn1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVRva0J5TGF5ZXIgPSAobm9kZSwgbikgPT4ge1xuICBjb25zdCBsYXllclNpemUgPSBbXG4gICAgeyB3aWR0aDogMTAwLCBoZWlnaHQ6IDUwIH0sXG4gICAgeyB3aWR0aDogNjAsIGhlaWdodDogMzAgfSxcbiAgICB7IHdpZHRoOiA0MCwgaGVpZ2h0OiAyMCB9LFxuICBdXG5cbiAgbiA9IE1hdGgubWluKG4sIDIpXG5cbiAgcmV0dXJuIG5ldyBUb3BpYyh7XG4gICAgc2l6ZTogbGF5ZXJTaXplW25dLFxuICAgIG1hcmdpbjogWzUsIDUsIDUsIDVdLFxuICAgIGNvbG9yOiBub2RlLmNvbG9yLFxuICB9KVxufSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQWxCQTtBQUNBO0FBb0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFkQTtBQUNBO0FBZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQWZBO0FBQ0E7QUFpQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXhCQTtBQUNBO0FBMEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFiQTtBQUNBO0FBZUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/tok.js\n");

/***/ }),

/***/ "./src/util.js":
/*!*********************!*\
  !*** ./src/util.js ***!
  \*********************/
/*! exports provided: isArray, isUndef, isDef, isEven, copy, flatten, mapFlat, posAdd, posSub, isNull, logErr, rand, getMaxPoint, getRatio, getDeltaV, getDeltaH */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isArray\", function() { return isArray; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isUndef\", function() { return isUndef; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isDef\", function() { return isDef; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isEven\", function() { return isEven; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"copy\", function() { return copy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"flatten\", function() { return flatten; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mapFlat\", function() { return mapFlat; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"posAdd\", function() { return posAdd; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"posSub\", function() { return posSub; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isNull\", function() { return isNull; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"logErr\", function() { return logErr; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rand\", function() { return rand; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getMaxPoint\", function() { return getMaxPoint; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getRatio\", function() { return getRatio; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getDeltaV\", function() { return getDeltaV; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getDeltaH\", function() { return getDeltaH; });\n/* harmony import */ var _constant__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constant */ \"./src/constant.js\");\n\n\nconst isArray = obj => obj.length !== undefined;\nconst isUndef = v => v === undefined || v === null;\nconst isDef = v => v !== undefined && v !== null;\n\nconst isEven = n => n % 2 === 0;\nconst copy = obj => Array.isArray(obj) ? obj.slice() : Object.assign({}, obj);\nconst flatten = arr => arr.reduce((a, b) => a.concat(b), []);\n\nconst mapFlat = (arr, fn) => flatten(arr.map(fn));\n\nconst posAdd = (p1, p2) => {\n  return { x: p1.x + p2.x, y: p1.y + p2.y };\n};\nconst posSub = (p1, p2) => {\n  return { x: p1.x - p2.x, y: p1.y - p2.y };\n};\n\nconst isNull = arr => arr.length === 0;\n\nconst logErr = (description, fn, ...others) => console.error(description);\n\nconst rand = (n, m) => n + parseInt(Math.random() * m);\n\nconst getMaxPoint = (...points) => {\n  if (points.length === 0) {\n    logErr('Arguments are empty', getMaxPoint);\n  } else {\n    const ds = points.map(p => p.x * p.x + p.y * p.y);\n    let maxIndex = 0;\n    let max = ds[0];\n    ds.forEach((d, i) => {\n      if (d > max) {\n        max = d;\n        maxIndex = i;\n      }\n    });\n\n    return points[maxIndex];\n  }\n};\n\nconst RADIAN_MAP = {\n  [_constant__WEBPACK_IMPORTED_MODULE_0__[\"DOWN\"]]: 1 / 2 * Math.PI,\n  [_constant__WEBPACK_IMPORTED_MODULE_0__[\"UP\"]]: 3 / 2 * Math.PI,\n  [_constant__WEBPACK_IMPORTED_MODULE_0__[\"RIGHT\"]]: 0,\n  [_constant__WEBPACK_IMPORTED_MODULE_0__[\"LEFT\"]]: Math.PI,\n  [_constant__WEBPACK_IMPORTED_MODULE_0__[\"RIGHT_DOWN\"]]: 1 / 3 * Math.PI,\n  [_constant__WEBPACK_IMPORTED_MODULE_0__[\"LEFT_DOWN\"]]: 2 / 3 * Math.PI,\n  [_constant__WEBPACK_IMPORTED_MODULE_0__[\"LEFT_UP\"]]: 4 / 3 * Math.PI,\n  [_constant__WEBPACK_IMPORTED_MODULE_0__[\"RIGHT_UP\"]]: 5 / 3 * Math.PI\n};\n\nconst getRatio = dir => {\n  const radian = RADIAN_MAP[dir];\n  return {\n    x: Math.cos(radian),\n    y: Math.sin(radian)\n  };\n};\n\nconst getDeltaV = (ratio, delta) => {\n  const one = ratio.y > 0 ? 1 : -1;\n  const dy = one * delta;\n  const dx = dy / ratio.y * ratio.x;\n  return { x: dx, y: dy };\n};\n\nconst getDeltaH = (ratio, delta) => {\n  const one = ratio.x > 0 ? 1 : -1;\n  const dx = one * delta;\n  const dy = dx / ratio.x * ratio.y;\n  return { x: dx, y: dy };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvdXRpbC5qcz8wMjIzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIFVQLCBSSUdIVCwgRE9XTiwgTEVGVCxcbiAgTEVGVF9VUCwgTEVGVF9ET1dOLCBSSUdIVF9ET1dOLCBSSUdIVF9VUCxcbn0gZnJvbSAnLi9jb25zdGFudCdcblxuZXhwb3J0IGNvbnN0IGlzQXJyYXkgPSAob2JqKSA9PiBvYmoubGVuZ3RoICE9PSB1bmRlZmluZWRcbmV4cG9ydCBjb25zdCBpc1VuZGVmID0gKHYpID0+IHYgPT09IHVuZGVmaW5lZCB8fCB2ID09PSBudWxsXG5leHBvcnQgY29uc3QgaXNEZWYgPSAodikgPT4gdiAhPT0gdW5kZWZpbmVkICYmIHYgIT09IG51bGxcblxuZXhwb3J0IGNvbnN0IGlzRXZlbiA9IChuKSA9PiBuICUgMiA9PT0gMFxuZXhwb3J0IGNvbnN0IGNvcHkgPSAob2JqKSA9PiBBcnJheS5pc0FycmF5KG9iaikgPyBvYmouc2xpY2UoKSA6IE9iamVjdC5hc3NpZ24oe30sIG9iailcbmV4cG9ydCBjb25zdCBmbGF0dGVuID0gKGFycikgPT4gYXJyLnJlZHVjZSgoYSwgYikgPT4gYS5jb25jYXQoYiksIFtdKVxuXG5leHBvcnQgY29uc3QgbWFwRmxhdCA9IChhcnIsIGZuKSA9PiBmbGF0dGVuKGFyci5tYXAoZm4pKVxuXG5leHBvcnQgY29uc3QgcG9zQWRkID0gKHAxLCBwMikgPT4geyByZXR1cm4geyB4OiBwMS54ICsgcDIueCwgeTogcDEueSArIHAyLnkgfSB9XG5leHBvcnQgY29uc3QgcG9zU3ViID0gKHAxLCBwMikgPT4geyByZXR1cm4geyB4OiBwMS54IC0gcDIueCwgeTogcDEueSAtIHAyLnkgfSB9XG5cbmV4cG9ydCBjb25zdCBpc051bGwgPSAoYXJyKSA9PiBhcnIubGVuZ3RoID09PSAwXG5cbmV4cG9ydCBjb25zdCBsb2dFcnIgPSAoZGVzY3JpcHRpb24sIGZuLCAuLi5vdGhlcnMpID0+IGNvbnNvbGUuZXJyb3IoZGVzY3JpcHRpb24pXG5cbmV4cG9ydCBjb25zdCByYW5kID0gKG4sIG0pID0+IG4gKyBwYXJzZUludChNYXRoLnJhbmRvbSgpICogbSlcblxuZXhwb3J0IGNvbnN0IGdldE1heFBvaW50ID0gKC4uLnBvaW50cykgPT4ge1xuICBpZiAocG9pbnRzLmxlbmd0aCA9PT0gMCkgeyBsb2dFcnIoJ0FyZ3VtZW50cyBhcmUgZW1wdHknLCBnZXRNYXhQb2ludCkgfVxuICBlbHNlIHtcbiAgICBjb25zdCBkcyA9IHBvaW50cy5tYXAoKHApID0+IHAueCAqIHAueCArIHAueSAqIHAueSlcbiAgICBsZXQgbWF4SW5kZXggPSAwXG4gICAgbGV0IG1heCA9IGRzWzBdXG4gICAgZHMuZm9yRWFjaCgoZCwgaSkgPT4ge1xuICAgICAgaWYgKGQgPiBtYXgpIHtcbiAgICAgICAgbWF4ID0gZFxuICAgICAgICBtYXhJbmRleCA9IGlcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgcmV0dXJuIHBvaW50c1ttYXhJbmRleF1cbiAgfVxufVxuXG5jb25zdCBSQURJQU5fTUFQID0ge1xuICBbRE9XTl06IDEgLyAyICogTWF0aC5QSSxcbiAgW1VQXTogMyAvIDIgKiBNYXRoLlBJLFxuICBbUklHSFRdOiAwLFxuICBbTEVGVF06IE1hdGguUEksXG4gIFtSSUdIVF9ET1dOXTogMSAvIDMgKiBNYXRoLlBJLFxuICBbTEVGVF9ET1dOXTogMiAvIDMgKiBNYXRoLlBJLFxuICBbTEVGVF9VUF06IDQgLyAzICogTWF0aC5QSSxcbiAgW1JJR0hUX1VQXTogNSAvIDMgKiBNYXRoLlBJLFxufVxuXG5leHBvcnQgY29uc3QgZ2V0UmF0aW8gPSAoZGlyKSA9PiB7XG4gIGNvbnN0IHJhZGlhbiA9IFJBRElBTl9NQVBbZGlyXVxuICByZXR1cm4ge1xuICAgIHg6IE1hdGguY29zKHJhZGlhbiksXG4gICAgeTogTWF0aC5zaW4ocmFkaWFuKSxcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgZ2V0RGVsdGFWID0gKHJhdGlvLCBkZWx0YSkgPT4ge1xuICBjb25zdCBvbmUgPSByYXRpby55ID4gMCA/IDEgOiAtMVxuICBjb25zdCBkeSA9IG9uZSAqIGRlbHRhXG4gIGNvbnN0IGR4ID0gZHkgLyByYXRpby55ICogcmF0aW8ueFxuICByZXR1cm4geyB4OiBkeCwgeTogZHkgfVxufVxuXG5leHBvcnQgY29uc3QgZ2V0RGVsdGFIID0gKHJhdGlvLCBkZWx0YSkgPT4ge1xuICBjb25zdCBvbmUgPSByYXRpby54ID4gMCA/IDEgOiAtMVxuICBjb25zdCBkeCA9IG9uZSAqIGRlbHRhXG4gIGNvbnN0IGR5ID0gZHggLyByYXRpby54ICogcmF0aW8ueVxuICByZXR1cm4geyB4OiBkeCwgeTogZHkgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBQ0E7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/util.js\n");

/***/ }),

/***/ "./test.js":
/*!*****************!*\
  !*** ./test.js ***!
  \*****************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _src_driver__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/driver */ \"./src/driver.js\");\n/* harmony import */ var _src_constant__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/constant */ \"./src/constant.js\");\n/* harmony import */ var _src_util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./src/util */ \"./src/util.js\");\n\n\n\n\nconst getRandColor = () => {\n  const randNum = () => Object(_src_util__WEBPACK_IMPORTED_MODULE_2__[\"rand\"])(100, 150);\n  return `rgb(${randNum()}, ${randNum()}, ${randNum()})`;\n};\n\n// createNode\nconst c = (c = []) => {\n  return { children: c, color: getRandColor() };\n};\n\nconst render = () => {\n  const g = Object(_src_driver__WEBPACK_IMPORTED_MODULE_0__[\"driver\"])(root);\n  const el = document.getElementById('test');\n  el.innerHTML = '';\n  const svg = SVG(el).spof().style({ display: 'block' });\n  svg.add(g);\n};\n\nconst addTopicRandly = () => {\n\n  const iter = (node, depth) => {\n    if (Object(_src_util__WEBPACK_IMPORTED_MODULE_2__[\"isNull\"])(node.children)) {\n      return node.children.push(c());\n    }\n    const index = Object(_src_util__WEBPACK_IMPORTED_MODULE_2__[\"rand\"])(0, node.children.length - 1);\n    if (depth === 0) {\n      return node.children.splice(index, 0, c());\n    } else {\n      return iter(node.children[index], depth - 1);\n    }\n  };\n\n  const depth = Object(_src_util__WEBPACK_IMPORTED_MODULE_2__[\"rand\"])(1, 3);\n  iter(root, depth);\n  render();\n};\n\nlet root;\nconst init = () => {\n  root = c([c([c()]), c([c(), c([c()]), c([c(), c(), c()]), c()]), c([c(), c()]), c()]);\n  root.struct = _src_constant__WEBPACK_IMPORTED_MODULE_1__[\"MAP\"];\n  render();\n};\n\ninit();\nconst sel = document.getElementById('sel');\nsel.addEventListener('change', e => {\n  const { value } = e.target;\n  root.struct = value;\n  render();\n});\n\nconst btn = document.getElementById('addBtn');\nbtn.addEventListener('click', e => {\n  addTopicRandly();\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi90ZXN0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3Rlc3QuanM/OWUwZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkcml2ZXIgfSBmcm9tICcuL3NyYy9kcml2ZXInXG5pbXBvcnQgeyBNQVAgfSBmcm9tICcuL3NyYy9jb25zdGFudCdcbmltcG9ydCB7IHJhbmQsIGlzTnVsbCB9IGZyb20gJy4vc3JjL3V0aWwnXG5cblxuY29uc3QgZ2V0UmFuZENvbG9yID0gKCkgPT4ge1xuICBjb25zdCByYW5kTnVtID0gKCkgPT4gcmFuZCgxMDAsIDE1MClcbiAgcmV0dXJuIGByZ2IoJHtyYW5kTnVtKCl9LCAke3JhbmROdW0oKX0sICR7cmFuZE51bSgpfSlgXG59XG5cbi8vIGNyZWF0ZU5vZGVcbmNvbnN0IGMgPSAoYyA9IFtdKSA9PiB7XG4gIHJldHVybiB7IGNoaWxkcmVuOiBjLCBjb2xvcjogZ2V0UmFuZENvbG9yKCkgfVxufVxuXG5jb25zdCByZW5kZXIgPSAoKSA9PiB7XG4gIGNvbnN0IGcgPSBkcml2ZXIocm9vdClcbiAgY29uc3QgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGVzdCcpXG4gIGVsLmlubmVySFRNTCA9ICcnXG4gIGNvbnN0IHN2ZyA9IFNWRyhlbCkuc3BvZigpLnN0eWxlKHsgZGlzcGxheTogJ2Jsb2NrJyB9KVxuICBzdmcuYWRkKGcpXG59XG5cbmNvbnN0IGFkZFRvcGljUmFuZGx5ID0gKCkgPT4ge1xuXG4gIGNvbnN0IGl0ZXIgPSAobm9kZSwgZGVwdGgpID0+IHtcbiAgICBpZiAoaXNOdWxsKG5vZGUuY2hpbGRyZW4pKSB7IHJldHVybiBub2RlLmNoaWxkcmVuLnB1c2goYygpKSB9XG4gICAgY29uc3QgaW5kZXggPSByYW5kKDAsIG5vZGUuY2hpbGRyZW4ubGVuZ3RoIC0gMSlcbiAgICBpZiAoZGVwdGggPT09IDApIHsgcmV0dXJuIG5vZGUuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAwLCBjKCkpIH1cbiAgICBlbHNlIHtcbiAgICAgIHJldHVybiBpdGVyKG5vZGUuY2hpbGRyZW5baW5kZXhdLCBkZXB0aCAtIDEpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgZGVwdGggPSByYW5kKDEsIDMpXG4gIGl0ZXIocm9vdCwgZGVwdGgpXG4gIHJlbmRlcigpXG59XG5cbmxldCByb290XG5jb25zdCBpbml0ID0gKCkgPT4ge1xuICByb290ID0gYyhbXG4gICAgYyhbXG4gICAgICBjKCksXG4gICAgXSksXG4gICAgYyhbXG4gICAgICBjKCksXG4gICAgICBjKFtjKCldKSxcbiAgICAgIGMoW1xuICAgICAgICBjKCksIGMoKSwgYygpXG4gICAgICBdKSxcbiAgICAgIGMoKSxcbiAgICBdKSxcbiAgICBjKFtcbiAgICAgIGMoKSwgYygpXG4gICAgXSksXG4gICAgYygpLFxuICBdKVxuICByb290LnN0cnVjdCA9IE1BUFxuICByZW5kZXIoKVxufVxuXG5pbml0KClcbmNvbnN0IHNlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWwnKVxuc2VsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7XG4gIGNvbnN0IHsgdmFsdWUgfSA9IGUudGFyZ2V0XG4gIHJvb3Quc3RydWN0ID0gdmFsdWVcbiAgcmVuZGVyKClcbn0pXG5cbmNvbnN0IGJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRCdG4nKVxuYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgYWRkVG9waWNSYW5kbHkoKVxufSkiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./test.js\n");

/***/ })

/******/ });